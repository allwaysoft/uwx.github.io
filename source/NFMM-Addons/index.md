---
title:
date: 2016-09-04 19:26:55
useGithubLayout: true
---

<style type="text/css">
.comic-header { font-family: 'Comic Sans MS'; font-size: 29px; line-height: normal; }
</style>
<div align="center" class="comic-header">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</div><div align="center" class="comic-header"><span style='color:#FF0000;'>T</span><span style='color:#FF3600;'>h</span><span style='color:#FF6D00;'>e</span> <span style='color:#FFDA00;'>U</span><span style='color:#ECFF00;'>l</span><span style='color:#B6FF00;'>t</span><span style='color:#7FFF00;'>i</span><span style='color:#48FF00;'>m</span><span style='color:#12FF00;'>a</span><span style='color:#00FF24;'>t</span><span style='color:#00FF5B;'>e</span> <span style='color:#00FFC8;'>N</span><span style='color:#00FEFF;'>F</span><span style='color:#00C8FF;'>M</span><span style='color:#0091FF;'>M</span> <span style='color:#0024FF;'>J</span><span style='color:#1200FF;'>a</span><span style='color:#4800FF;'>v</span><span style='color:#7F00FF;'>a</span> <span style='color:#EC00FF;'>G</span><span style='color:#FF00DA;'>u</span><span style='color:#FF00A3;'>i</span><span style='color:#FF006D;'>d</span><span style='color:#FF0036;'>e</span></div><div align="center" class="comic-header">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</div>

## Table of Contents

(coming soon)

## NFMM Files

*OpenNFMM on GitHub*

<div align="center"><font color="#FF0000">&gt;</font><font color="#FF0F0F">&gt;</font><font color="#FF1E1E">&gt;</font><font color="#FF2D2D">&gt;</font><font color="#FF3C3C">&gt;</font><font color="#FF4B4B">&gt;</font><font color="#FF5A5A">&gt;</font><font color="#FF6969">&gt;</font><font color="#FF7878">&gt;</font><font color="#FF8787">&gt;</font><font color="#FF9696">&gt;</font><font color="#FFA5A5">&gt;</font><font color="#FFB4B4">&gt;</font><font color="#FFC3C3">&gt;</font><font color="#FFD2D2">&gt;</font><font color="#FFE1E1">&gt;</font><font color="#FFF0F0">&gt;</font> <a href="https://github.com/rafa1231518/OpenNFMM" class="postlink" target="_blank" rel="nofollow"><strong><font color="#FF0000">g</font><font color="#FF2E00">i</font><font color="#FF5C00">t</font><font color="#FF8B00">h</font><font color="#FFB900">u</font><font color="#FFE700">b</font><font color="#E7FF00">.</font><font color="#B9FF00">c</font><font color="#8BFF00">o</font><font color="#5CFF00">m</font><font color="#2EFF00">/</font><font color="#00FF00">c</font><font color="#00FF2E">h</font><font color="#00FF5C">r</font><font color="#00FF8B">i</font><font color="#00FFB9">s</font><font color="#00FFE7">h</font><font color="#00E7FF">a</font><font color="#00B9FF">n</font><font color="#008BFF">s</font><font color="#005CFF">e</font><font color="#002EFF">n</font><font color="#0000FF">6</font><font color="#2E00FF">9</font><font color="#5C00FF">/</font><font color="#8B00FF">O</font><font color="#B900FF">p</font><font color="#E700FF">e</font><font color="#FF00E7">n</font><font color="#FF00B9">N</font><font color="#FF008B">F</font><font color="#FF005C">M</font><font color="#FF002E">M</font></strong></a> <font color="#FFFFFF">&lt;</font><font color="#FFF0F0">&lt;</font><font color="#FFE1E1">&lt;</font><font color="#FFD2D2">&lt;</font><font color="#FFC3C3">&lt;</font><font color="#FFB4B4">&lt;</font><font color="#FFA5A5">&lt;</font><font color="#FF9696">&lt;</font><font color="#FF8787">&lt;</font><font color="#FF7878">&lt;</font><font color="#FF6969">&lt;</font><font color="#FF5A5A">&lt;</font><font color="#FF4B4B">&lt;</font><font color="#FF3C3C">&lt;</font><font color="#FF2D2D">&lt;</font><font color="#FF1E1E">&lt;</font><font color="#FF0F0F">&lt;</font></div>

*UNFIXED NFMM Setup. Hope you know what you're doing...*

<div align="center"><font color="#FF0000">&gt;</font><font color="#FF0F0F">&gt;</font><font color="#FF1E1E">&gt;</font><font color="#FF2D2D">&gt;</font><font color="#FF3C3C">&gt;</font><font color="#FF4B4B">&gt;</font><font color="#FF5A5A">&gt;</font><font color="#FF6969">&gt;</font><font color="#FF7878">&gt;</font><font color="#FF8787">&gt;</font><font color="#FF9696">&gt;</font><font color="#FFA5A5">&gt;</font><font color="#FFB4B4">&gt;</font><font color="#FFC3C3">&gt;</font><font color="#FFD2D2">&gt;</font><font color="#FFE1E1">&gt;</font><font color="#FFF0F0">&gt;</font> <a href="http://www.needformadness.com/download/win/Need-for-Madness.zip" class="postlink" target="_blank" rel="nofollow"><strong><font color="#FF0000">n</font><font color="#FF1D00">e</font><font color="#FF3A00">e</font><font color="#FF5800">d</font><font color="#FF7500">f</font><font color="#FF9300">o</font><font color="#FFB000">r</font><font color="#FFCD00">m</font><font color="#FFEB00">a</font><font color="#F5FF00">d</font><font color="#D7FF00">n</font><font color="#BAFF00">e</font><font color="#9CFF00">s</font><font color="#7FFF00">s</font><font color="#62FF00">.</font><font color="#44FF00">c</font><font color="#27FF00">o</font><font color="#09FF00">m</font><font color="#00FF13">/</font><font color="#00FF31">d</font><font color="#00FF4E">o</font><font color="#00FF6B">w</font><font color="#00FF89">n</font><font color="#00FFA6">l</font><font color="#00FFC4">o</font><font color="#00FFE1">a</font><font color="#00FEFF">d</font><font color="#00E1FF">/</font><font color="#00C4FF">w</font><font color="#00A6FF">i</font><font color="#0089FF">n</font><font color="#006BFF">/</font><font color="#004EFF">N</font><font color="#0031FF">e</font><font color="#0013FF">e</font><font color="#0900FF">d</font><font color="#2700FF">-</font><font color="#4400FF">f</font><font color="#6200FF">o</font><font color="#7F00FF">r</font><font color="#9C00FF">-</font><font color="#BA00FF">M</font><font color="#D700FF">a</font><font color="#F500FF">d</font><font color="#FF00EB">n</font><font color="#FF00CD">e</font><font color="#FF00B0">s</font><font color="#FF0093">s</font><font color="#FF0075">.</font><font color="#FF0058">z</font><font color="#FF003A">i</font><font color="#FF001D">p</font></strong></a> <font color="#FFFFFF">&lt;</font><font color="#FFF0F0">&lt;</font><font color="#FFE1E1">&lt;</font><font color="#FFD2D2">&lt;</font><font color="#FFC3C3">&lt;</font><font color="#FFB4B4">&lt;</font><font color="#FFA5A5">&lt;</font><font color="#FF9696">&lt;</font><font color="#FF8787">&lt;</font><font color="#FF7878">&lt;</font><font color="#FF6969">&lt;</font><font color="#FF5A5A">&lt;</font><font color="#FF4B4B">&lt;</font><font color="#FF3C3C">&lt;</font><font color="#FF2D2D">&lt;</font><font color="#FF1E1E">&lt;</font><font color="#FF0F0F">&lt;</font></div>

## Setting up your NFMM project in Eclipse

:::
Firstly, download Eclipse. No more BlueJ. If you want to use BlueJ, annoy Kappanated until he makes a separate tutorial. Download the version corresponding to your computer. If you're not sure, download the 32-bit version.

<img src="http://i.imgur.com/ORXUN5V.png">

Now, in Eclipse, set up your project:

<img src="http://i.imgur.com/ceWyLVR.png">

Name it anything, and set the location to somewhere you'll remember. You can use the default location too.

<img src="http://i.imgur.com/qaCpREo.png">

Now, delete the default src folder Eclipse creates, since we won't need it for now.

<img src="http://i.imgur.com/vuKxHDA.png">

Copy all files from the Fixed NFMM files (above) into your project folder. Replace everything.

Now, in Eclipse's Package Explorer, right click on an empty space and select refresh or press F5.

<img src="http://i.imgur.com/TkO26CB.png">

Hopefully, the NFMM files should be there.

<img src="http://i.imgur.com/aRagqxL.png">

Now, double click Madness.java to open it and click the green button at the top to run it.

<img src="http://i.imgur.com/esfhBF0.png">

If everything loads, congratulations! You now have a working copy of NFMM, fully featured with a car maker and stage maker and LAN multiplayer!

<img src="http://i.imgur.com/RdAQmzE.png">

<p></p><p></p>

**Some things to note:**
* The class you should run is Madness, never GameSparker. This is because, in NFMM, the game runs inside of a Frame, which allows the Car Maker, Stage Maker, Antialiasing and Motion Effects buttons to work, and reduces incompatibility with newer Java versions.
* You should play this NFM using the newest Java JDK/JRE versions, do not use old Java 7 versions!
* 99% of the NFM2 tutorials won't work! A lot has changed since NFM2's release!
* LAN multiplayer works, but there is no chat, no clans and no multiplayer dome. You do not require a full account to play, and the 3 game limit has been removed. I am not going to add online multiplayer, at least not until Omar closes down the official servers.
* Keep in mind that this is not the final version of the files, and although they've been cleaned up a little bit, they need heavy improvement.
* The car and stage limit have been hacked. There is one limit, which is sort of hardcoded into Medium, but I'd rather not mess with it.
:::

## Graphical Hacks

### Adding credits screens
:::
Go into xtGraphics, and find void credits. Look for this:
```java
if (this.flipo == 103) {
				this.flipo = 0;
```
Add to the 103 for every screen you're adding.
Above that, find this:
```java
if (this.flipo == 102) {
```
Add to the 102 for every screen you're adding.
Above that, copy all the code under
```java
if (this.flipo == 101) {
```
and paste it below that, and change the 101 to 102 etc. depending on how many screens you're adding. Customize it to your liking.
:::

### Changing the resolution
:::
Go into GameSparker, add this at the top:
```java
final int width = 1024;
	final int height = 512;
```
replace the 1024 and 512 with the resolution you want.
replace all instances of
```java
800, 450
```
with
```java
width, height
```
do the same thing for
```java
670, 400
```
find:
```java
final Medium medium = new Medium();
```
replace that with:
```java
final Medium medium = new Medium(this);
```
Go into Madness, and find this:
```java
frame.setMinimumSize(new Dimension(930, 586));
		frame.setSize(930, 586);
```
replace the 930, 586 with the resolution you want.

Go into Medium, find
```java
int cx = 400;
	int cy = 225;
```
replace that with:
```java
int cx;
	int cy;
```
find
```java
int w = 800;
	int h = 450;
```
replace with
```java
int w;
	int h;
```
find
```java
public Medium() {
```
add this to it:
```java
cx = 400;
		cy = 225;
		w = 800;
		h = 450;
```
now, before that public Medium() { add this:
```java
public Medium(GameSparker gs) {
		cx = gs.width/2;
		cy = gs.height/2;
		w = gs.width;
		h = gs.height;
		for (int i = 0; i < 360; i++)
			tcos[i] = (float) Math.cos(i * 0.017453292519943295);
		for (int i = 0; i < 360; i++)
			tsin[i] = (float) Math.sin(i * 0.017453292519943295);
	}
```
in xtGraphics, find
```java
int[] smokey = new int[94132];
```
replace the 94132 with the width times the height of the resolution you're using.
now find
```java
	public xtGraphics(final Medium medium, final CarDefine cardefine, final Graphics2D graphics2d,
			final GameSparker gamesparker) {
```
add this right after the first {
```java
width = gamesparker.width;
		height = gamesparker.height;
```
now, replace all instances of
```java
800, 450
```
with
```java
width, height
```
do the same thing for
```java
670, 400
```
find
```java
flexpix = new int[360000];
```
replace the 360000 with the width times the height of the resolution you're using.
do the same thing for
```java
for (int i306 = 0; i306 < 1048576; i306++) {
```
and
```java
for (int i346 = 0; i346 < 1048576; i346++) {
```
and
```java
final int[] is = new int[360000];
```
and
```java
for (int i356 = 0; i356 < 360000; i356++) {
```
you're done!
:::

### Instant car select
:::
in xtgraphics, find:
```java
if (control.right) {
				control.right = false;
				if (sc[0] != maxsl && flipo == 0) {
					if (flatrstart > 1)
						flatrstart = 0;
					nextc = 1;
					flipo = 20;
				}
			}
			if (control.left) {
				control.left = false;
				if (sc[0] != minsl && flipo == 0) {
					if (flatrstart > 1)
						flatrstart = 0;
					nextc = -1;
					flipo = 20;
				}
			}
```
replace with:
```java
if(control.right)
	        {
	            control.right = false;
	            if(sc[0] != maxsl)
	            	sc[0]++;
	        }
	        if(control.left)
	        {
	            control.left = false;
	            if(sc[0] != minsl)
	            	sc[0]--;
	        }
```### Adding random colors for AI cars[spoiler="]Go into xtGraphics, add this before (or after) void colorCar:
```java
public void colorCarSP(final ContO conto, final int i) {
		if (i == 0) //player
			for (int i132 = 0; i132 < conto.npl; i132++) {
				if (conto.p[i132].colnum == 1) {
					final Color color = Color.getHSBColor(arnp[0], arnp[1], 1.0F - arnp[2]);
					conto.p[i132].oc[0] = color.getRed();
					conto.p[i132].oc[1] = color.getGreen();
					conto.p[i132].oc[2] = color.getBlue();
				}
				if (conto.p[i132].colnum == 2) {
					final Color color = Color.getHSBColor(arnp[3], arnp[4], 1.0F - arnp[5]);
					conto.p[i132].oc[0] = color.getRed();
					conto.p[i132].oc[1] = color.getGreen();
					conto.p[i132].oc[2] = color.getBlue();
				}
			}
		else {//bot
			final int colr = (int) Math.round(Math.random() * 255);
			final int colg = (int) Math.round(Math.random() * 255);
			final int colb = (int) Math.round(Math.random() * 255);
			final int scolr = (int) Math.round(Math.random() * 255);
			final int scolg = (int) Math.round(Math.random() * 255);
			final int scolb = (int) Math.round(Math.random() * 255);
			for (int i133 = 0; i133 < conto.npl; i133++) {
				if (conto.p[i133].colnum == 1) {
					conto.p[i133].oc[0] = colr;
					conto.p[i133].oc[1] = colg;
					conto.p[i133].oc[2] = colb;
				}
				if (conto.p[i133].colnum == 2) {
					conto.p[i133].oc[0] = scolr;
					conto.p[i133].oc[1] = scolg;
					conto.p[i133].oc[2] = scolb;
				}
			}
		}
	}
```Now go into GameSparker and find this:
```java
if (xtgraphics.fase == 22)
					xtgraphics.colorCar(contos108[xtgraphics.sc[i145]], i145);
```Replace that with this:
```java
if (xtgraphics.fase == 22)
					xtgraphics.colorCar(contos108[xtgraphics.sc[i145]], i145);
				else
					xtgraphics.colorCarSP(contos108[xtgraphics.sc[i145]], i145);
```
:::

### Customize polygon outlines
:::
Go into a .rad file, go to the polygon you want and add this after the &lt;p&gt;:

```java
customOutline()
```
This will enable custom outlines. Now, this won't actually do anything since it's still using the default settings. To change them, add any of these (you can add multiple and mix them) below customOutline:

`$outlineW(number)` - changes the outline width (default is 1)
`$outlineCap(butt)` or `$outlineCap(round)` or `$outlineCap(square)` - changes the dash segments' end algorithm (default is butt)
`$outlineJoin(bevel)` or `$outlineJoin(miter)` or `$outlineJoin(round)` - changes the path segments' connections (default is miter)
`$outlineMtlimit(number)` - if you used `$outlineJoin(miter)`, this is how far the dash will go to extend its outside edges until 2 ends meet (default is 10)
:::

### Stage on fire/Cars on fire
:::
Go to the end of void loadstage in GameSparker and add this before `System.gc();`

#### Stage on fire
```java

if (checkpoints.stage == 1)
        for (int k = 0; k < nob; k++)
            for (int j = 0; j < contos[k].npl; j++)
                contos[k].p[j].embos = 1;
```
`checkpoints.stage == 1` means Stage 1 will be on fire. If you want more than one stage, you can do something like this:
`if (checkpoints.stage == 1 || checkpoints.stage == 2)`
This would make Stage 1 and Stage 2 be on fire.

#### Cars on fire
```java
if (checkpoints.stage == 1)
        for (int k = 0; k < xtgraphics.nplayers; k++)
            for (int j = 0; j < contos[k].npl; j++)
                contos[k].p[j].embos = 1;
```
`checkpoints.stage == 1` means the cars in Stage 1 will be on fire. If you want more than one stage, you can do something like this:
`if (checkpoints.stage == 1 || checkpoints.stage == 2)`
This would make the cars in Stage 1 and Stage 2 be on fire.
:::

## Core Hacks

### Floating track pieces
:::
Find:
```java
if (string.startsWith("set")) {
                    int i124 = getint("set", string, 0);
                    if (xtgraphics.nplayers == 8) {
                        if (i124 == 47)
                            i124 = 76;
                        if (i124 == 48)
                            i124 = 77;
                    }
                    boolean bool = true;
                    if (i124 >= 65 && i124 <= 75 && checkpoints.notb)
                        bool = false;
                    if (bool) {
                        if (i124 == 49 || i124 == 64 || i124 >= 56 && i124 <= 61)
                            xtgraphics.newparts = true;
                        if ((checkpoints.stage < 0 || checkpoints.stage >= 28) && i124 >= 10 && i124 <= 25)
                            medium.loadnew = true;
                        i124 += partskips - 10;
                        contos[nob] = new ContO(contos108[i124], getint("set", string, 1),
                                medium.ground - contos108[i124].grat, getint("set", string, 2),
                                getint("set", string, 3));
                        if (string.indexOf(")p") != -1) {
                            checkpoints.x[checkpoints.n] = getint("set", string, 1);
                            checkpoints.z[checkpoints.n] = getint("set", string, 2);
                            checkpoints.y[checkpoints.n] = 0;
                            checkpoints.typ[checkpoints.n] = 0;
                            if (string.indexOf(")pt") != -1)
                                checkpoints.typ[checkpoints.n] = -1;
                            if (string.indexOf(")pr") != -1)
                                checkpoints.typ[checkpoints.n] = -2;
                            if (string.indexOf(")po") != -1)
                                checkpoints.typ[checkpoints.n] = -3;
                            if (string.indexOf(")ph") != -1)
                                checkpoints.typ[checkpoints.n] = -4;
                            if (string.indexOf("out") != -1)
                                System.out
                                        .println(new StringBuilder().append("out: ").append(checkpoints.n).toString());
                            checkpoints.n++;
                            notb = nob + 1;
                        }
                        nob++;
                        if (medium.loadnew)
                            medium.loadnew = false;
                    }
                }
```
add this below it:
```java

if (string.startsWith("fset")) {
                    int i124 = getint("fset", string, 0);
                    if (xtgraphics.nplayers == 8) {
                        if (i124 == 47)
                            i124 = 76;
                        if (i124 == 48)
                            i124 = 77;
                    }
                    boolean bool = true;
                    if (i124 >= 65 && i124 <= 75 && checkpoints.notb)
                        bool = false;
                    if (bool) {
                        if (i124 == 49 || i124 == 64 || i124 >= 56 && i124 <= 61)
                            xtgraphics.newparts = true;
                        if ((checkpoints.stage < 0 || checkpoints.stage >= 28) && i124 >= 10 && i124 <= 25)
                            medium.loadnew = true;
                        i124 += partskips - 10;
                        contos[nob] = new ContO(contos108[i124], getint("fset", string, 1),
                                getint("fset", string, 3), getint("fset", string, 2),
                                getint("fset", string, 4));
                        if (string.indexOf(")p") != -1) {
                            checkpoints.x[checkpoints.n] = getint("fset", string, 1);
                            checkpoints.z[checkpoints.n] = getint("fset", string, 2);
                            checkpoints.y[checkpoints.n] = getint("fset", string, 3);
                            checkpoints.typ[checkpoints.n] = 0;
                            if (string.indexOf(")pt") != -1)
                                checkpoints.typ[checkpoints.n] = -1;
                            if (string.indexOf(")pr") != -1)
                                checkpoints.typ[checkpoints.n] = -2;
                            if (string.indexOf(")po") != -1)
                                checkpoints.typ[checkpoints.n] = -3;
                            if (string.indexOf(")ph") != -1)
                                checkpoints.typ[checkpoints.n] = -4;
                            if (string.indexOf("out") != -1)
                                System.out
                                        .println(new StringBuilder().append("out: ").append(checkpoints.n).toString());
                            checkpoints.n++;
                            notb = nob + 1;
                        }
                        nob++;
                        if (medium.loadnew)
                            medium.loadnew = false;
                    }
                }
```
To make flying pieces, use fset(MODEL,X,Z,Y,ROTATION)
:::