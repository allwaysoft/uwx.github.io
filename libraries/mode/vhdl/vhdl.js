(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";function t(e){var t={},n=e.split(",");for(var r=0;r<n.length;++r){var i=n[r].toUpperCase();var o=n[r].charAt(0).toUpperCase()+n[r].slice(1);t[n[r]]=true;t[i]=true;t[o]=true}return t}function n(e){e.eatWhile(/[\w\$_]/);return"meta"}e.defineMode("vhdl",function(e,r){var i=e.indentUnit,o=r.atoms||t("null"),a=r.hooks||{"`":n,$:n},l=r.multiLineStrings;var u=t("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,"+"body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,"+"end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,"+"function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,"+"literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,"+"postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,"+"sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor");var s=t("architecture,entity,begin,case,port,else,elsif,end,for,function,if");var f=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;var c;function d(e,t){var n=e.next();if(a[n]){var r=a[n](e,t);if(r!==false)return r}if(n=='"'){t.tokenize=m(n);return t.tokenize(e,t)}if(n=="'"){t.tokenize=p(n);return t.tokenize(e,t)}if(/[\[\]{}\(\),;\:\.]/.test(n)){c=n;return null}if(/[\d']/.test(n)){e.eatWhile(/[\w\.']/);return"number"}if(n=="-"){if(e.eat("-")){e.skipToEnd();return"comment"}}if(f.test(n)){e.eatWhile(f);return"operator"}e.eatWhile(/[\w\$_]/);var i=e.current();if(u.propertyIsEnumerable(i.toLowerCase())){if(s.propertyIsEnumerable(i))c="newstatement";return"keyword"}if(o.propertyIsEnumerable(i))return"atom";return"variable"}function p(e){return function(t,n){var r=false,i,o=false;while((i=t.next())!=null){if(i==e&&!r){o=true;break}r=!r&&i=="--"}if(o||!(r||l))n.tokenize=d;return"string"}}function m(e){return function(t,n){var r=false,i,o=false;while((i=t.next())!=null){if(i==e&&!r){o=true;break}r=!r&&i=="--"}if(o||!(r||l))n.tokenize=d;return"string-2"}}function h(e,t,n,r,i){this.indented=e;this.column=t;this.type=n;this.align=r;this.prev=i}function y(e,t,n){return e.context=new h(e.indented,t,n,null,e.context)}function v(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}return{startState:function(e){return{tokenize:null,context:new h((e||0)-i,0,"top",false),indented:0,startOfLine:true}},token:function(e,t){var n=t.context;if(e.sol()){if(n.align==null)n.align=false;t.indented=e.indentation();t.startOfLine=true}if(e.eatSpace())return null;c=null;var r=(t.tokenize||d)(e,t);if(r=="comment"||r=="meta")return r;if(n.align==null)n.align=true;if((c==";"||c==":")&&n.type=="statement")v(t);else if(c=="{")y(t,e.column(),"}");else if(c=="[")y(t,e.column(),"]");else if(c=="(")y(t,e.column(),")");else if(c=="}"){while(n.type=="statement")n=v(t);if(n.type=="}")n=v(t);while(n.type=="statement")n=v(t)}else if(c==n.type)v(t);else if(n.type=="}"||n.type=="top"||n.type=="statement"&&c=="newstatement")y(t,e.column(),"statement");t.startOfLine=false;return r},indent:function(e,t){if(e.tokenize!=d&&e.tokenize!=null)return 0;var n=t&&t.charAt(0),r=e.context,o=n==r.type;if(r.type=="statement")return r.indented+(n=="{"?0:i);else if(r.align)return r.column+(o?0:1);else return r.indented+(o?0:i)},electricChars:"{}"}});e.defineMIME("text/x-vhdl","vhdl")});