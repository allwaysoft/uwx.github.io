(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("dylan",function(e){var n={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};n["otherDefinition"]=n["unnamedDefinition"].concat(n["namedDefinition"]).concat(n["otherParameterizedDefinition"]);n["definition"]=n["typeParameterizedDefinition"].concat(n["otherDefinition"]);n["parameterizedDefinition"]=n["typeParameterizedDefinition"].concat(n["otherParameterizedDefinition"]);n["simpleDefinition"]=n["constantSimpleDefinition"].concat(n["variableSimpleDefinition"]).concat(n["otherSimpleDefinition"]);n["keyword"]=n["statement"].concat(n["separator"]).concat(n["other"]);var t="[-_a-zA-Z?!*@<>$%]+";var i=new RegExp("^"+t);var r={symbolKeyword:t+":",symbolClass:"<"+t+">",symbolGlobal:"\\*"+t+"\\*",symbolConstant:"\\$"+t};var a={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var o in r)if(r.hasOwnProperty(o))r[o]=new RegExp("^"+r[o]);r["keyword"]=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var l={};l["keyword"]="keyword";l["definition"]="def";l["simpleDefinition"]="def";l["signalingCalls"]="builtin";var f={};var s={};["keyword","definition","simpleDefinition","signalingCalls"].forEach(function(e){n[e].forEach(function(n){f[n]=e;s[n]=l[e]})});function c(e,n,t){n.tokenize=t;return t(e,n)}function u(e,n){var t=e.peek();if(t=="'"||t=='"'){e.next();return c(e,n,d(t,"string"))}else if(t=="/"){e.next();if(e.eat("*")){return c(e,n,m)}else if(e.eat("/")){e.skipToEnd();return"comment"}e.backUp(1)}else if(/[+\-\d\.]/.test(t)){if(e.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||e.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||e.match(/^[+-]?\d+/)){return"number"}}else if(t=="#"){e.next();t=e.peek();if(t=='"'){e.next();return c(e,n,d('"',"string"))}else if(t=="b"){e.next();e.eatWhile(/[01]/);return"number"}else if(t=="x"){e.next();e.eatWhile(/[\da-f]/i);return"number"}else if(t=="o"){e.next();e.eatWhile(/[0-7]/);return"number"}else if(t=="#"){e.next();return"punctuation"}else if(t=="["||t=="("){e.next();return"bracket"}else if(e.match(/f|t|all-keys|include|key|next|rest/i)){return"atom"}else{e.eatWhile(/[-a-zA-Z]/);return"error"}}else if(t=="~"){e.next();t=e.peek();if(t=="="){e.next();t=e.peek();if(t=="="){e.next();return"operator"}return"operator"}return"operator"}else if(t==":"){e.next();t=e.peek();if(t=="="){e.next();return"operator"}else if(t==":"){e.next();return"punctuation"}}else if("[](){}".indexOf(t)!=-1){e.next();return"bracket"}else if(".,".indexOf(t)!=-1){e.next();return"punctuation"}else if(e.match("end")){return"keyword"}for(var o in r){if(r.hasOwnProperty(o)){var l=r[o];if(l instanceof Array&&l.some(function(n){return e.match(n)})||e.match(l))return a[o]}}if(/[+\-*\/^=<>&|]/.test(t)){e.next();return"operator"}if(e.match("define")){return"def"}else{e.eatWhile(/[\w\-]/);if(f[e.current()]){return s[e.current()]}else if(e.current().match(i)){return"variable"}else{e.next();return"variable-2"}}}function m(e,n){var t=false,i=false,r=0,a;while(a=e.next()){if(a=="/"&&t){if(r>0){r--}else{n.tokenize=u;break}}else if(a=="*"&&i){r++}t=a=="*";i=a=="/"}return"comment"}function d(e,n){return function(t,i){var r=false,a,o=false;while((a=t.next())!=null){if(a==e&&!r){o=true;break}r=!r&&a=="\\"}if(o||!r){i.tokenize=u}return n}}return{startState:function(){return{tokenize:u,currentIndent:0}},token:function(e,n){if(e.eatSpace())return null;var t=n.tokenize(e,n);return t},blockCommentStart:"/*",blockCommentEnd:"*/"}});e.defineMIME("text/x-dylan","dylan")});