(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("d",function(t,n){var r=t.indentUnit,i=n.statementIndentUnit||r,o=n.keywords||{},a=n.builtin||{},l=n.blockKeywords||{},u=n.atoms||{},s=n.hooks||{},f=n.multiLineStrings;var c=/[+\-*&%=<>!?|\/]/;var d;function m(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(r!==false)return r}if(n=='"'||n=="'"||n=="`"){t.tokenize=p(n);return t.tokenize(e,t)}if(/[\[\]{}\(\),;\:\.]/.test(n)){d=n;return null}if(/\d/.test(n)){e.eatWhile(/[\w\.]/);return"number"}if(n=="/"){if(e.eat("+")){t.tokenize=h;return y(e,t)}if(e.eat("*")){t.tokenize=h;return h(e,t)}if(e.eat("/")){e.skipToEnd();return"comment"}}if(c.test(n)){e.eatWhile(c);return"operator"}e.eatWhile(/[\w\$_\xa1-\uffff]/);var i=e.current();if(o.propertyIsEnumerable(i)){if(l.propertyIsEnumerable(i))d="newstatement";return"keyword"}if(a.propertyIsEnumerable(i)){if(l.propertyIsEnumerable(i))d="newstatement";return"builtin"}if(u.propertyIsEnumerable(i))return"atom";return"variable"}function p(e){return function(t,n){var r=false,i,o=false;while((i=t.next())!=null){if(i==e&&!r){o=true;break}r=!r&&i=="\\"}if(o||!(r||f))n.tokenize=null;return"string"}}function h(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=null;break}n=r=="*"}return"comment"}function y(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=null;break}n=r=="+"}return"comment"}function b(e,t,n,r,i){this.indented=e;this.column=t;this.type=n;this.align=r;this.prev=i}function v(e,t,n){var r=e.indented;if(e.context&&e.context.type=="statement")r=e.context.indented;return e.context=new b(r,t,n,null,e.context)}function w(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}return{startState:function(e){return{tokenize:null,context:new b((e||0)-r,0,"top",false),indented:0,startOfLine:true}},token:function(e,t){var n=t.context;if(e.sol()){if(n.align==null)n.align=false;t.indented=e.indentation();t.startOfLine=true}if(e.eatSpace())return null;d=null;var r=(t.tokenize||m)(e,t);if(r=="comment"||r=="meta")return r;if(n.align==null)n.align=true;if((d==";"||d==":"||d==",")&&n.type=="statement")w(t);else if(d=="{")v(t,e.column(),"}");else if(d=="[")v(t,e.column(),"]");else if(d=="(")v(t,e.column(),")");else if(d=="}"){while(n.type=="statement")n=w(t);if(n.type=="}")n=w(t);while(n.type=="statement")n=w(t)}else if(d==n.type)w(t);else if((n.type=="}"||n.type=="top")&&d!=";"||n.type=="statement"&&d=="newstatement")v(t,e.column(),"statement");t.startOfLine=false;return r},indent:function(t,n){if(t.tokenize!=m&&t.tokenize!=null)return e.Pass;var o=t.context,a=n&&n.charAt(0);if(o.type=="statement"&&a=="}")o=o.prev;var l=a==o.type;if(o.type=="statement")return o.indented+(a=="{"?0:i);else if(o.align)return o.column+(l?0:1);else return o.indented+(l?0:r)},electricChars:"{}"}});function t(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=true;return t}var n="body catch class do else enum for foreach foreach_reverse if in interface mixin "+"out scope struct switch try union unittest version while with";e.defineMIME("text/x-d",{name:"d",keywords:t("abstract alias align asm assert auto break case cast cdouble cent cfloat const continue "+"debug default delegate delete deprecated export extern final finally function goto immutable "+"import inout invariant is lazy macro module new nothrow override package pragma private "+"protected public pure ref return shared short static super synchronized template this "+"throw typedef typeid typeof volatile __FILE__ __LINE__ __gshared __traits __vector __parameters "+n),blockKeywords:t(n),builtin:t("bool byte char creal dchar double float idouble ifloat int ireal long real short ubyte "+"ucent uint ulong ushort wchar wstring void size_t sizediff_t"),atoms:t("exit failure success true false null"),hooks:{"@":function(e,t){e.eatWhile(/[\w\$_]/);return"meta"}}})});