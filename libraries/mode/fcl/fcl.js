(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("fcl",function(e){var t=e.indentUnit;var r={term:true,method:true,accu:true,rule:true,then:true,is:true,and:true,or:true,"if":true,"default":true};var n={var_input:true,var_output:true,fuzzify:true,defuzzify:true,function_block:true,ruleblock:true};var u={end_ruleblock:true,end_defuzzify:true,end_function_block:true,end_fuzzify:true,end_var:true};var i={"true":true,"false":true,nan:true,real:true,min:true,max:true,cog:true,cogs:true};var o=/[+\-*&^%:=<>!|\/]/;function f(e,t){var f=e.next();if(/[\d\.]/.test(f)){if(f=="."){e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/)}else if(f=="0"){e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/)}else{e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/)}return"number"}if(f=="/"||f=="("){if(e.eat("*")){t.tokenize=a;return a(e,t)}if(e.eat("/")){e.skipToEnd();return"comment"}}if(o.test(f)){e.eatWhile(o);return"operator"}e.eatWhile(/[\w\$_\xa1-\uffff]/);var l=e.current().toLowerCase();if(r.propertyIsEnumerable(l)||n.propertyIsEnumerable(l)||u.propertyIsEnumerable(l)){return"keyword"}if(i.propertyIsEnumerable(l))return"atom";return"variable"}function a(e,t){var r=false,n;while(n=e.next()){if((n=="/"||n==")")&&r){t.tokenize=f;break}r=n=="*"}return"comment"}function l(e,t,r,n,u){this.indented=e;this.column=t;this.type=r;this.align=n;this.prev=u}function c(e,t,r){return e.context=new l(e.indented,t,r,null,e.context)}function d(e){if(!e.context.prev)return;var t=e.context.type;if(t=="end_block")e.indented=e.context.indented;return e.context=e.context.prev}return{startState:function(e){return{tokenize:null,context:new l((e||0)-t,0,"top",false),indented:0,startOfLine:true}},token:function(e,t){var r=t.context;if(e.sol()){if(r.align==null)r.align=false;t.indented=e.indentation();t.startOfLine=true}if(e.eatSpace())return null;var i=(t.tokenize||f)(e,t);if(i=="comment")return i;if(r.align==null)r.align=true;var o=e.current().toLowerCase();if(n.propertyIsEnumerable(o))c(t,e.column(),"end_block");else if(u.propertyIsEnumerable(o))d(t);t.startOfLine=false;return i},indent:function(e,r){if(e.tokenize!=f&&e.tokenize!=null)return 0;var n=e.context;var i=u.propertyIsEnumerable(r);if(n.align)return n.column+(i?0:1);else return n.indented+(i?0:t)},electricChars:"ryk",fold:"brace",blockCommentStart:"(*",blockCommentEnd:"*)",lineComment:"//"}});e.defineMIME("text/x-fcl","fcl")});