(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("mathematica",function(e,t){var r="[a-zA-Z\\$][a-zA-Z0-9\\$]*";var a="(?:\\d+)";var n="(?:\\.\\d+|\\d+\\.\\d*|\\d+)";var i="(?:\\.\\w+|\\w+\\.\\w*|\\w+)";var f="(?:`(?:`?"+n+")?)";var u=new RegExp("(?:"+a+"(?:\\^\\^"+i+f+"?(?:\\*\\^[+-]?\\d+)?))");var o=new RegExp("(?:"+n+f+"?(?:\\*\\^[+-]?\\d+)?)");var m=new RegExp("(?:`?)(?:"+r+")(?:`(?:"+r+"))*(?:`?)");function c(e,t){var r;r=e.next();if(r==='"'){t.tokenize=l;return t.tokenize(e,t)}if(r==="("){if(e.eat("*")){t.commentLevel++;t.tokenize=z;return t.tokenize(e,t)}}e.backUp(1);if(e.match(u,true,false)){return"number"}if(e.match(o,true,false)){return"number"}if(e.match(/(?:In|Out)\[[0-9]*\]/,true,false)){return"atom"}if(e.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::usage)/,true,false)){return"meta"}if(e.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,true,false)){return"string-2"}if(e.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^\&\*\)\[\]'\?,\|])).*/,true,false)){return"variable-2"}if(e.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(e.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,true,false)){return"variable-2"}if(e.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(e.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,true,false)){return"variable-3"}if(e.match(/(?:\[|\]|{|}|\(|\))/,true,false)){return"bracket"}if(e.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,true,false)){return"variable-2"}if(e.match(m,true,false)){return"keyword"}if(e.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,true,false)){return"operator"}e.next();return"error"}function l(e,t){var r,a=false,n=false;while((r=e.next())!=null){if(r==='"'&&!n){a=true;break}n=!n&&r==="\\"}if(a&&!n){t.tokenize=c}return"string"}function z(e,t){var r,a;while(t.commentLevel>0&&(a=e.next())!=null){if(r==="("&&a==="*")t.commentLevel++;if(r==="*"&&a===")")t.commentLevel--;r=a}if(t.commentLevel<=0){t.tokenize=c}return"comment"}return{startState:function(){return{tokenize:c,commentLevel:0}},token:function(e,t){if(e.eatSpace())return null;return t.tokenize(e,t)},blockCommentStart:"(*",blockCommentEnd:"*)"}});e.defineMIME("text/x-mathematica",{name:"mathematica"})});