<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="A place for random garbage." />
  

  
  
  
  
  
  
  <title>
    
      Chris Hansen&#39;s Nut Shack
    </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="expr 
Evaluate expressions, evaluates an expression and writes the result 
on standard output. A blank line below separates increasing precedence groups.
Syntax
      expr expression
      expr option">
<meta property="og:type" content="website">
<meta property="og:title" content="Chris Hansen's Nut Shack">
<meta property="og:url" content="http://rafa1231518.github.io/bash/expr.html">
<meta property="og:site_name" content="Chris Hansen's Nut Shack">
<meta property="og:description" content="expr 
Evaluate expressions, evaluates an expression and writes the result 
on standard output. A blank line below separates increasing precedence groups.
Syntax
      expr expression
      expr option">
<meta property="og:image" content="http://rafa1231518.github.io/../images/top.png">
<meta property="og:updated_time" content="2016-11-02T00:03:39.590Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chris Hansen's Nut Shack">
<meta name="twitter:description" content="expr 
Evaluate expressions, evaluates an expression and writes the result 
on standard output. A blank line below separates increasing precedence groups.
Syntax
      expr expression
      expr option">
<meta name="twitter:image" content="http://rafa1231518.github.io/../images/top.png">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link href="https://fonts.googleapis.com/css?family=Roboto|Source+Code+Pro" rel="stylesheet">
  
    <link rel="stylesheet" href="/css/style.css">
    <style type="text/css">
.header-anchor {
  display: none;
}
    </style>
  
  

  
  <!-- baidu webmaster push -->
  <!-- tracking
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
  -->

</head>
<body class="home blog custom-background custom-font-enabled single-author">
  
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="Chris Hansen&#39;s Nut Shack" rel="home">Chris Hansen&#39;s Nut Shack</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">Have a seat, right over there.</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pagelist">Tools &amp; Stuff</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        
          <div id="primary" class="site-content"><div id="content" role="main"><article id="page-undefined" class="page-undefined post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        <div class="comments-link">
            
            
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <!-- #BeginLibraryItem "/Library/head_bash.lbi" --><!-- #EndLibraryItem --><h1>expr</h1> 
<p>Evaluate expressions, evaluates an expression and writes the result 
on standard output. A blank line below separates increasing precedence groups.</p>
<pre>Syntax
      expr <i>expression</i>
      expr <i>option
</i>
Options:
   --help      Display help and exit
   --version   output version information and exit
<p>Expressions:</p>
<p><i>ARG1</i> | <i>ARG2</i>               <i>ARG1</i> if it is neither null nor 0, otherwise <i>ARG2</i><br>
<i>ARG1</i> &amp; <i>ARG2</i>               <i>ARG1</i> if neither argument is null or 0, otherwise 0<br>
<i>ARG1</i> &lt; <i>ARG2</i>               <i>ARG1</i> is less than <i>ARG2</i><br>
<i>ARG1</i> &lt;= <i>ARG2</i>              <i>ARG1</i> is less than or equal to <i>ARG2</i><br>
<i>ARG1</i> = <i>ARG2</i>               <i>ARG1</i> is equal to <i>ARG2</i><br>
<i>ARG1</i> != <i>ARG2</i>              <i>ARG1</i> is unequal to <i>ARG2</i><br>
<i>ARG1</i> &gt;= <i>ARG2</i>              <i>ARG1</i> is greater than or equal to <i>ARG2</i><br>
<i>ARG1</i> &gt; <i>ARG2</i>               <i>ARG1</i> is greater than <i>ARG2</i><br>
<i>ARG1</i> + <i>ARG2</i>               Arithmetic sum of <i>ARG1</i> and <i>ARG2</i><br>
<i>ARG1</i> - <i>ARG2</i>               Arithmetic difference of <i>ARG1</i> and <i>ARG2</i><br>
<i>ARG1</i> * <i>ARG2</i>               Arithmetic product of <i>ARG1</i> and <i>ARG2</i><br>
<i>ARG1</i> / <i>ARG2</i>               Arithmetic quotient of <i>ARG1</i> divided by <i>ARG2</i><br>
<i>ARG1</i> % <i>ARG2</i>               Arithmetic remainder of <i>ARG1</i> divided by <i>ARG2</i><br>
<i>STRING</i> : <i>REGEXP</i>           Anchored pattern match of <i>REGEXP</i> in <i>STRING</i><br>
match <i>STRING REGEXP</i>       Same as <i>STRING</i> : <i>REGEXP</i><br>
substr <i>STRING POS LENGTH</i>  Substring of <i>STRING, POS</i> counted from 1<br>
index <i>STRING CHARS</i>        Index in STRING where any <i>CHARS</i> is found, or 0<br>
length <i>STRING</i>             Length of <i>STRING</i></p>
<ul>
<li><i>TOKEN</i>                   Interpret <i>TOKEN</i> as a string, even if it is a<br>
keyword like ‘match’ or an operator like ‘/’<br>
( <i>EXPRESSION</i> )            Value of <i>EXPRESSION</i></li>
</ul>
</pre>
<p> Beware that many operators need to be escaped or quoted for shells.<br>
Comparisons are arithmetic if both <i>ARGs</i> are numbers, else lexicographical.<br>
Pattern matches return the string matched between \( and \) or null;<br>
if \( and \) are not used, they return the number of characters matched or 0.<br>
</p>
<pre>Exit status 
 0 if EXPRESSION is neither null nor 0,
 1 if EXPRESSION is null or 0,
 2 if EXPRESSION is syntactically invalid, 
 3 if an error occurred. </pre>
<p> Each token of the expression must be a separate argument.<br>
<br>
Operands are either numbers or strings.  `expr' coerces anything
appearing in an operand position to an integer or a string depending on
the operation being applied to it.<br>
<br>
Strings are not quoted for `expr' itself, though you might need to
quote them to protect characters with special meaning to the shell,
e.g., spaces.<br>
<br>
Operators can be given as infix symbols or prefix keywords.  Parentheses
may be used for grouping in the usual manner (you must quote parentheses
to avoid the shell evaluating them, however).<br>
</p>
<h2> String expressions<br>
</h2>
<p> `expr' supports pattern matching and other string operators.  These
have lower precedence than both the numeric and relational operators (in
the next sections).<br>
</p>
<pre><i>STRING</i> : <i>REGEX</i>
     Perform pattern matching.  The arguments are coerced to strings
     and the second is considered to be a (basic, a la GNU `grep')
     regular expression, with a `^' implicitly prepended.  The first
     argument is then matched against this regular expression.
<pre><code> If the match succeeds and REGEX uses <code>\(' and </code>\)', the `:'
 expression returns the part of STRING that matched the
 subexpression; otherwise, it returns the number of characters
 matched.

 If the match fails, the `:' operator returns the null string if
 <code>\(' and </code>\)' are used in REGEX, otherwise 0.

 Only the first `\( ... \)' pair is relevant to the return value;
 additional pairs are meaningful only for grouping the regular
 expression operators.

 In the regular expression, <code>\+', </code>\?', and `\|' are operators
 which respectively match one or more, zero or one, or separate
 alternatives.  SunOS and other `expr''s treat these as regular
 characters.  (POSIX allows either behavior.)
</code></pre>
<p>match <i>STRING REGEX</i><br>
An alternative way to do pattern matching.  This is the same as<br>
STRING : REGEX.</p>
<p>substr <i>STRING POSITION LENGTH</i><br>
Returns the substring of STRING beginning at POSITION with length<br>
at most LENGTH.  If either POSITION or LENGTH is negative, zero,<br>
or non-numeric, returns the null string.</p>
<p>index <i>STRING CHARSET</i><br>
Returns the first position in STRING where the first character in<br>
CHARSET was found.  If no character in CHARSET is found in STRING,<br>
return 0.</p>
<p>length <i>STRING</i><br>
Returns the length of STRING.</p>
<p>quote <i>TOKEN</i><br>
Interpret <i>TOKEN</i> as a string, even if it is a keyword like MATCH or<br>
an operator like /.  This makes it possible to test <code>expr length quote &quot;$x&quot;' or</code>expr quote “$x” : ‘.*/(.)’’ and have it do the<br>
right thing even if the value of $X happens to be (for example)<br>
<code>/' or</code>index’.  This operator is a GNU extension.  It is disabled<br>
when the environment variable `POSIXLY_CORRECT’ is set.</p>
<p>To make <code>expr' interpret keywords as strings, you must use the</code>quote’ operator.</p>
</pre>
<h2> Numeric expressions</h2>
<p> `expr' supports the usual numeric operators, in order of increasing
precedence.  The string operators (previous section) have lower
precedence, the connectives (next section) have higher.<br>
</p>
<pre>+ -
     Addition and subtraction.  Both arguments are coerced to numbers;
     an error occurs if this cannot be done.
<ul>
<li>/ %<br>
Multiplication, division, remainder.  Both arguments are coerced to<br>
numbers; an error occurs if this cannot be done.</li>
</ul>
</pre>
<h2> Relations for `expr'</h2>
<p> `expr' supports the usual logical connectives and relations.  These
are higher precedence than either the string or numeric operators
(previous sections).  Here is the list, lowest-precedence operator
first.<br>
</p>
<pre> |   Returns its first argument if that is neither null nor 0,
     otherwise its second argument.
<p>&amp;   Return its first argument if neither argument is null or 0,<br>
otherwise 0.</p>
<p>&lt; &lt;= = == != &gt;= &gt;<br>
Compare the arguments and return 1 if the relation is true, 0<br>
otherwise.  <code>==' is a synonym for</code>=’.  `expr’ first tries to<br>
coerce both arguments to numbers and do a numeric comparison; if<br>
either coercion fails, it does a lexicographic comparison.</p></pre><p></p>
<p><b>Examples</b><br>
</p>
<pre># A partial match will return the number of characters that match:
$ expr ss64 : ss6
3
<h1>The condition in string 2 must entirely match string 1</h1>
<p>$ expr ss64 : ss7<br>
0</p>
<h1>Adding numbers</h1>
<p>$ expr 5 + 2<br>
7</p>
<h1>When multiplying the * has to be escaped</h1>
<p>$ expr 5 * 3<br>
15</p>
<h1>Incrementing a variable (arithmetic expansion)</h1>
<p>$ demo=1<br>
$ demo=<code>expr $demo + 1</code><br>
$ echo $demo<br>
2<br>
$ demo=<code>expr $demo + 1</code><br>
$ echo $demo<br>
3</p>
<h1>To print the non-directory part of the file name stored in `$fname’,</h1>
<p>which need not contain a `/’.<br>
$ expr $fname : ‘.<em>/(^.</em>)’ ‘^|’ $fname</p>
<p>$ expr abc : 'a(.)c’<br>
b</p>
<p>$ expr index abcdef cz<br>
3</p>
<p>$ expr index index a<br>
expr: syntax error</p>
<p>$ expr index quote index a<br>
0</p></pre><p></p>
<p class="quote"><i>"Silence is the  perfect expression of scorn" ~ George Bernard Shaw</i> (Back to Methuselah, 1921)</p>
<p><b>Related:</b><br>
<br>
<a href="eval.html">eval</a> - Evaluate several commands/arguments<br>
<a href="for.html">for</a> - Expand <var>words</var>, and execute <var>commands</var> 
<br>
<a href="function.html">function</a> - Define Function Macros <br>
<a href="awk.html">gawk</a> - Find and Replace text within file(s) <br>
<a href="test.html">test</a> - Evaluate a conditional expression <br>
Equivalent Windows commands: 
<a href="../nt/set.html">SET</a> /A - environment variable arithmetic </p><!-- #BeginLibraryItem "/Library/foot_bash.lbi" --><p>
<!-- bash300 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-6140977852749469" data-ad-slot="4615356305"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<hr>
<div id="bl" class="footer"><a href="expr.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id="br" class="footer, tagline">© Copyright <a href="http://ss64.com/" target="_blank" rel="external">SS64.com</a> 1999-2016<br>
Some rights reserved</div><!-- #EndLibraryItem -->

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    Posted at <a href="/bash/expr.html">
    <time datetime="2016-09-04T22:26:55.000Z" class="entry-date">
        2016-09-04
    </time>
</a> (click date for permalink).
    
    
    </footer>
</article>


    






</div></div>
          <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="Search" />
    </div>
</form></aside>
  
    
  
    
  
    
  
    
  
    
  
</div>
        
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2016 chrishansen69 (rafa1231518).
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/wizardforcel/hexo-theme-cyanstyle">Wizard Zhang (wizardforcel)</a></p>
</footer>
    <!-- tracking
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
-->

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
  
</body>
</html>