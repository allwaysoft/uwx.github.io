<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="A place for random garbage." />
  

  
  
  
  
  
  
  <title>
    
      Chris Hansen&#39;s Nut Shack
    </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="fdisk 
Partition table manipulator for Darwin UFS/HFS/DOS. 
Syntax
      fdisk [-ieu] [-f mbrname] [-c cylinders] [-h heads] [-s sectors] [-S size] [-b size] disc
Options
-i       Initialize the MBR s">
<meta property="og:type" content="website">
<meta property="og:title" content="Chris Hansen's Nut Shack">
<meta property="og:url" content="http://rafa1231518.github.io/osx/fdisk.html">
<meta property="og:site_name" content="Chris Hansen's Nut Shack">
<meta property="og:description" content="fdisk 
Partition table manipulator for Darwin UFS/HFS/DOS. 
Syntax
      fdisk [-ieu] [-f mbrname] [-c cylinders] [-h heads] [-s sectors] [-S size] [-b size] disc
Options
-i       Initialize the MBR s">
<meta property="og:image" content="http://rafa1231518.github.io/../images/top.png">
<meta property="og:updated_time" content="2016-11-02T00:01:02.098Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chris Hansen's Nut Shack">
<meta name="twitter:description" content="fdisk 
Partition table manipulator for Darwin UFS/HFS/DOS. 
Syntax
      fdisk [-ieu] [-f mbrname] [-c cylinders] [-h heads] [-s sectors] [-S size] [-b size] disc
Options
-i       Initialize the MBR s">
<meta name="twitter:image" content="http://rafa1231518.github.io/../images/top.png">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link href="https://fonts.googleapis.com/css?family=Roboto|Source+Code+Pro" rel="stylesheet">
  
    <link rel="stylesheet" href="/css/style.css">
    <style type="text/css">
.header-anchor {
  display: none;
}
    </style>
  
  

  
  <!-- baidu webmaster push -->
  <!-- tracking
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
  -->

</head>
<body class="home blog custom-background custom-font-enabled single-author">
  
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="Chris Hansen&#39;s Nut Shack" rel="home">Chris Hansen&#39;s Nut Shack</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">Have a seat, right over there.</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pagelist">Tools &amp; Stuff</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        
          <div id="primary" class="site-content"><div id="content" role="main"><article id="page-undefined" class="page-undefined post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        <div class="comments-link">
            
            
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <!-- #BeginLibraryItem "/Library/head_osx.lbi" --><!-- #EndLibraryItem --><h1>fdisk</h1> 
<p>Partition table manipulator for Darwin UFS/HFS/DOS. </p>
<pre>Syntax
      fdisk [-ieu] [-f <i>mbrname</i>] [-c <i>cylinders</i>] [-h <i>heads</i>] [-s <i>sectors</i>] [-S <i>size</i>] [-b <i>size</i>] <i>disc</i>
<p>Options<br>
-i       Initialize the MBR sector.</p>
<pre><code> -a &lt;i&gt;style&lt;/i&gt;
          Specify an automatic partitioning style.

 -e       Edit existing MBR sectors.

 -f &lt;i&gt;mbrname&lt;/i&gt;
          Specifies an alternate MBR template file.

 -u       Update MBR code, preserving existing partition table.

 -y       Do not ask for confirmation before writing.

 -d       Dump partition table in a format readable by the -r option.

 -r       Read a partition table from the standard input.

 -t       Test if the disk is partitioned.

 -c &lt;i&gt;cylinders&lt;/i&gt;, -h &lt;i&gt;heads&lt;/i&gt;, -s &lt;i&gt;sectors&lt;/i&gt;
          Specify an alternate BIOS geometry for fdisk to use.

 -S &lt;i&gt;size&lt;/i&gt;  Specify the disk size in blocks.

 -b size  Specify the number of bytes per disk block.

 &lt;i&gt;disk&lt;/i&gt;     The disk in the form /dev/rdisk0.

 The &lt;b&gt;DOS fdisk &lt;/b&gt;program can be used to divide space on the disk into parti-
 tions and set one active.  This &lt;b&gt;fdisk&lt;/b&gt; program serves a similar purpose to
 the DOS program.  When called with no special flags, it prints the MBR
 partition table of the specified device, i.e.,
</code></pre>
<h1>fdisk fd0</h1>
<p>Disk: fd0   geometry: 80/2/18 [2880 sectors]<br>
Offset: 0   Signature: 0xAA55<br>
Starting    Ending<br>
#: id   cyl  hd sec -  cyl  hd  sec [start - size]</p>
<hr>
<p>*1: A6     0   0   1 -   79   1   18 [   0 -  2880] OpenBSD<br>
2: 00     0   0   0 -    0   0    0 [   0 -     0] unused<br>
3: A7     0   0   2 -   79   1   18 [   1 -  2879] NEXTSTEP<br>
4: 00     0   0   0 -    0   0    0 [   0 -     0] unused</p>
<pre><code> The geometry displayed is a synthetic geometry unless another geometry
 has been selected using the -c, -h, and -s options.  In the future, fdisk
 will read the BIOS geometry from the IOKit registry.

 In this example, the disk is divided into two partitions that happen to
 fill the disk.  The first partition overlaps the third partition.  (Used
 for debugging purposes.)

 #     Number of partition table entry.  A `*' denotes the
 bootable partition.

 id     System identifier.  OpenBSD reserves the magic number 166
 decimal (A6 in hex).  If no 166 partition is found, it will
 use an older FreeBSD partition (with a magic number of 165 or
 A5 in hex).

 cyl/hd/sec   These fields provide the starting and ending address of the
 partition in BIOS geometry

 start/size   These fields provide the starting sector and size in sectors
 of the partition in linear block addresses.

 NOTE: The sectors field is <code>1 based', and the start field is </code>0
 based'.  The CHS values might need to be in the BIOS's geometry for older
 systems to be able to boot and use the drive correctly; most modern sys-
 tems prefer the starting sector and size in preference to the CHS values.

 The -i flag is used to indicate that the partition data is to be initial-
 ized.  In this mode, fdisk will completely overwrite the primary MBR and
 partition table, either using the default MBR template, or the one speci-
 fied by the -f flag.

 In the default template, partition number 1 will be configured as a Dar-
 win boot partition spanning from cylinder 0, head 1, sector 1, and
 extending for 8 megabytes.   Partition number 2 will be configured as a
 Darwin HFS partition spanning the rest of the disk.  This mode is
 designed to initialize an MBR the very first time, or when it has been
 corrupted beyond repair.

 You can specify other default partition styles with the -a flag.  The
 available styles are:

 boothfs   Creates an 8Mb boot partition (type AB hex) and makes the
 rest of the disk a Darwin HFS partition (type AF hex).

 bootufs   Creates an 8Mb boot partition (type AB hex) and makes the
 rest of the disk a Darwin UFS partition (type A8 hex).

 hfs   Makes the entire disk one Darwin UFS partition (type A8 hex).

 ufs   Makes the entire disk one HFS+ partition (type AF hex).

 dos   Makes the entire disk one DOS partition (type 0C hex).

 raid   Makes the entire disk one type AC hex partition.

 The -u flag is used to update the MBR code on a given drive.  The MBR
 code extends from offset 0x000 to the start of the partition table at
 offset 0x1BE.  It is similar to the -i flag, except the existing parti-
 tion table is preserved. This is useful for writing new MBR code onto an
 existing drive, and is equivalent to the DOS command `FDISK /MBR'.
 Note that this option will overwrite the NT disk signature, if present.
 The -u and -i flags can not be specified together.

 The flag -e is used to modify a partition table using a interactive edit
 mode of the fdisk program.   This mode is designed to allow you to change
 any partition on the drive you choose, including extended partitions.  It
 is a very powerful mode, but is safe as long as you do not execute the
 write command, or answer in the negative (the default) when fdisk asks
 you about writing out changes.
</code></pre>
<p>COMMAND MODE</p>
<pre><code> When you first enter this mode, you are presented with a prompt, that
 looks like so: fdisk: 0&amp;gt;.  This prompt has two important pieces of infor-
 mation for you.  It will tell you if the in-memory copy of the boot block
 has been modified or not.  If it has been modified, the prompt will
 change to look like: fdisk:*0&amp;gt;.  The second piece of information pertains
 to the number given in the prompt.   This number specifies the disk offset
 of the currently selected boot block you are editing.  This number could
 be something different that zero when you are editing extended parti-
 tions.  The list of commands and their explanations are given below.

 help    Display a list of commands that fdisk understands in the interactive
          edit mode.

 manual  Display this manual page.

 reinit  Initialize the currently selected, in-memory copy of the boot block.

 auto    Partition the disk with one of the automatic partition styles.

 disk    Display the current drive geometry that fdisk has probed.  You
         are given a chance to edit it if you wish.

 edit    Edit a given table entry in the memory copy of the current boot
         block.  You can edit either in BIOS geometry mode, or in sector
         offsets and sizes.

 setpid  Change the partition identifier of the given partition table
         entry.  This command is particularly useful for reassigning an
         existing partition to OpenBSD.

 flag    Make the given partition table entry bootable.  Only one entry
         can be marked bootable.  If you wish to boot from an extended
         partition, you will need to mark the partition table entry for
         the extended partition as bootable.

 update  Update the machine code in the memory copy of the currently
         selected boot block.  Note that this option will overwrite the NT
         disk signature, if present.

 select  Select and load into memory the boot block pointed to by the
         extended partition table entry in the current boot block.

 print   Print the currently selected in-memory copy of the boot block and
         its MBR table to the terminal.

 write   Write the in-memory copy of the boot block to disk.  You will be
         asked to confirm this operation.

 exit    Exit the current level of fdisk, either returning to the previously
         selected in-memory copy of a boot block, or exiting the
         program if there is none.

 quit    Exit the current level of fdisk, either returning to the previously
         selected in-memory copy of a boot block, or exiting the
         program if there is none.  Unlike exit it does write the modified
         block out.

 abort   Quit program without saving current changes.&lt;/pre&gt;
</code></pre>
<p>In order for the BIOS to boot the kernel, certain conventions must be adhered 
  to. Sector 0 of a bootable hard disk must contain boot code, an MBR partition 
  table, and a magic number (0xAA55). These MBR partitions (also known as BIOS 
  partitions) can be used to break the disk up into several pieces. The BIOS loads 
  sector 0 of the boot disk into memory, verifies the magic number, and begins 
  executing the code at the first byte. The normal DOS MBR boot code searches 
  the MBR partition table for an <code></code>active'' partition (indicated by a `*' in 
  the first column), and if one is found, the boot block from that partition is 
  loaded and executed in place of the original (MBR) boot block.</p>
<p> The automatic calculation of starting cylinder etc. uses a set 
  of figures that represent what the BIOS thinks is the geometry of the drive.  
  These figures are by default taken from the in-core disklabel, or values that 
  /boot has passed to the kernel, but fdisk gives you an opportunity to change 
  them if there is a need to. This allows the user to create a bootblock that 
  can work with drives that use geometry translation under a potentially different 
BIOS. </p>
<p>If you hand craft your disk layout, please make sure that the 
  OpenBSD partition starts on a cylinder boundary. (This restriction might be changed 
  in the future.) </p>
<p>Editing an existing partition is risky, and can cause you to lose 
  all the data in that partition. </p>
<p>You should run this program interactively once or twice to see 
  how it works. This is completely safe as long as you answer the `write' questions 
  in the negative.</p>
<p>There are subtleties fdisk detects that are not explained in this 
  manual page. As well, chances are that some of the subtleties it should detect 
  are being steamrolled. Caveat Emptor.</p>
<p><b>Examples</b></p>
<p>List the current partitions:</p>
<p class="code">$ sudo fdisk /dev/rdisk0</p>
<p class="quote"><i>"When I'm reading material, if I'm a little bit afraid of a 
  part and I'm willing to admit that to myself, then I'll do it, definitely. If 
  I'm worried about being able to do it, to get it - I absolutely just love it" 
  - Jack 
  Lemmon</i></p>
<p><b>Related:</b></p>
<p><a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man8/fdisk.8.html" target="_blank" rel="external">fdisk man page</a> - Apple.com<br>
pdisk(8)</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><p>
<!-- OSX300 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-6140977852749469" data-ad-slot="1823340303"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<hr>
<div id="bl" class="footer"><a href="fdisk.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id="br" class="footer, tagline">© Copyright <a href="http://ss64.com/" target="_blank" rel="external">SS64.com</a> 1999-2016<br>
Some rights reserved</div><!-- #EndLibraryItem -->
</pre>
      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    Posted at <a href="/osx/fdisk.html">
    <time datetime="2016-09-04T22:26:55.000Z" class="entry-date">
        2016-09-04
    </time>
</a> (click date for permalink).
    
    
    </footer>
</article>


    






</div></div>
          <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="Search" />
    </div>
</form></aside>
  
    
  
    
  
    
  
    
  
    
  
</div>
        
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2016 chrishansen69 (rafa1231518).
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/wizardforcel/hexo-theme-cyanstyle">Wizard Zhang (wizardforcel)</a></p>
</footer>
    <!-- tracking
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
-->

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
  
</body>
</html>