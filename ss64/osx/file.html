<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="A place for random garbage." />
  

  
  
  
  
  
  
  <title>
    
      Chris Hansen&#39;s Nut Shack
    </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="file 
Determine file type.
Syntax
      file  [-bcdhikLnNprsvz] [-f namefile] [-F separator] [-M magic-files] [-m magicfiles] file ...
      file -C [-m magicfile ]
Key
-b, --brief
Do not prepend file">
<meta property="og:type" content="website">
<meta property="og:title" content="Chris Hansen's Nut Shack">
<meta property="og:url" content="http://rafa1231518.github.io/osx/file.html">
<meta property="og:site_name" content="Chris Hansen's Nut Shack">
<meta property="og:description" content="file 
Determine file type.
Syntax
      file  [-bcdhikLnNprsvz] [-f namefile] [-F separator] [-M magic-files] [-m magicfiles] file ...
      file -C [-m magicfile ]
Key
-b, --brief
Do not prepend file">
<meta property="og:image" content="http://rafa1231518.github.io/../images/top.png">
<meta property="og:updated_time" content="2016-11-02T00:01:02.099Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chris Hansen's Nut Shack">
<meta name="twitter:description" content="file 
Determine file type.
Syntax
      file  [-bcdhikLnNprsvz] [-f namefile] [-F separator] [-M magic-files] [-m magicfiles] file ...
      file -C [-m magicfile ]
Key
-b, --brief
Do not prepend file">
<meta name="twitter:image" content="http://rafa1231518.github.io/../images/top.png">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link href="https://fonts.googleapis.com/css?family=Roboto|Source+Code+Pro" rel="stylesheet">
  
    <link rel="stylesheet" href="/css/style.css">
    <style type="text/css">
.header-anchor {
  display: none;
}
    </style>
  
  

  
  <!-- baidu webmaster push -->
  <!-- tracking
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
  -->

</head>
<body class="home blog custom-background custom-font-enabled single-author">
  
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="Chris Hansen&#39;s Nut Shack" rel="home">Chris Hansen&#39;s Nut Shack</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">Have a seat, right over there.</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pagelist">Tools &amp; Stuff</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        
          <div id="primary" class="site-content"><div id="content" role="main"><article id="page-undefined" class="page-undefined post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        <div class="comments-link">
            
            
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <!-- #BeginLibraryItem "/Library/head_osx.lbi" --><!-- #EndLibraryItem --><h1>file</h1> 
<p>Determine file type.</p>
<pre>Syntax
      file  [-bcdhikLnNprsvz] [-f <i>namefile</i>] [-F <i>separator</i>] [-M <i>magic-files</i>] [-m <i>magicfiles</i>] <i>file</i> ...
<br>      file -C [-m <i>magicfile</i> ]
<p>Key<br>
-b, --brief<br>
Do not prepend filenames to output lines (brief mode).</p>
<p>-c, --checking-printout<br>
Cause a checking printout of the parsed form of the magic file.<br>
This  is  usually  used  in  conjunction with -m to debug a new<br>
magic file before installing it.</p>
<p>-C, --compile<br>
Write a magic.mgc output file that contains a pre-parsed version<br>
of file.<br>
-f, --files-from <i>namefile</i><br>
Read  the  names of the files to be examined from <i>namefile</i> (one<br>
per line) before the argument  list.   Either <i>namefile</i> or at<br>
least one filename argument must be present; to test the standard<br>
input, use `-’ as a filename argument.</p>
<p>-F, --separator <i>separator</i><br>
Use the specified string as the separator between the  filename<br>
and the file result returned. Defaults to `:’.</p>
<p>-h, --no-dereference<br>
option causes symlinks not to be followed (on systems that support<br>
symbolic links). This is the default  if  the  environment<br>
variable POSIXLY_CORRECT is not defined.</p>
<p>-I, --mime<br>
Causes the file command to output mime type strings rather than<br>
the more traditional human  readable  ones.  For example:<br>
<code>text/plain; charset=us-ascii' rather than</code>ASCII text’.<br>
In order for this option to work, file changes the way it  han-<br>
dles  files  recognised  by the command itself (such as many of<br>
the text file types, directories etc),  and  makes  use  of  an<br>
alternative <code>magic'' file. (See</code>FILES’’ section, below).<br>
-i       If the file is a regular file do not classify its contents.</p>
<p>-k, --keep-going<br>
Don’t stop at the first match, keep going.</p>
<p>-L, --dereference<br>
option causes symlinks to be followed, as the like-named option<br>
in ls(1) (on systems that support symbolic links).  This is the<br>
default if the environment variable POSIXLY_CORRECT is defined.</p>
<p>-m, --magic-file <i>list</i><br>
Specify an alternate list of files  containing  magic  numbers.<br>
This  can be a single file, or a colon-separated list of files.<br>
If a compiled magic file is found alongside, it  will  be  used<br>
instead.   With  the  -I  or  --mime  option,  the program adds<br>
&quot;.mime&quot; to each file name.</p>
<p>-m list Like -m, except the default rules are not applied.</p>
<p>-n, --no-buffer<br>
Force stdout to be flushed after checking each file.   This  is<br>
only  useful if checking a list of files.  It is intended to be<br>
used by programs that want filetype output from a pipe.</p>
<p>-d       Apply default system tests, this is the default if  neither  -m<br>
nor -M are supplied.</p>
<p>-N, --no-pad<br>
Don’t pad filenames so that they align in the output.</p>
<p>-p, --preserve-date<br>
On systems that support utime(2) or utimes(2), attempt to pre-<br>
serve the access  time  of  files  analyzed,  to  pretend  that<br>
file(2) never read them.</p>
<p>-r, --raw<br>
No  operation,  included  for  historical  compatability.</p>
<p>-s, --special-files<br>
Normally, file only attempts to read and deter-<br>
mine the type of argument files which stat(2) reports are ordinary<br>
files.  This prevents problems,  because  reading  special<br>
files can have peculiar consequences.  Specifying the -s option<br>
causes file to also read argument  files  which  are  block  or<br>
character  special  files.   This is useful for determining the<br>
filesystem types of the data in raw disk partitions, which  are<br>
block special files.  This option also causes file to disregard<br>
the file size as reported by stat(2) since on some  systems  it<br>
reports a zero size for raw disk partitions.</p>
<p>-v, --version<br>
Print the version of the program and exit.</p>
<p>-z, --uncompress<br>
Try to look inside compressed files.</p>
<p>–help  Print a help message and exit.</p></pre><p></p>
<p>File tests each argument in an attempt to classify it.  There are threesets  of tests, performed in this order:filesystem tests, magic numbertests, and language tests.  The first test  that  succeeds  causes  the file type to be printed.The  type  printed will usually contain one of the words <b>text</b> (the filecontains only printing characters and a few common  control  characters and  is  probably  safe  to read on an ASCII terminal), <b>executable</b> (the file contains the result of compiling a program in a  form  understandable  to  some  UNIX  kernel or another), or <b>data</b> meaning anything else(data is usually `binary' or non-printable).  </p>
<p>Exceptions are well-known file  formats  (core  files,  tar  archives)  that are known to contain binary data.  When modifying the file /usr/share/file/magic or the program  itself,  preserve these keywords .  People depend on knowing that all the readable files in a directory have the word  <code>text'  printed. Don't  do as Berkeley did and change </code>shell commands text' to `shellscript'.  Note that the file /usr/share/file/magic is  built  mechanically  from a large number of small files in the subdirectory Magdir inthe source distribution of this program.</p>
<p>The filesystem tests are based on examining the return from  a  stat(2)system  call.   The  program  checks to see if the file is empty, or if it's some sort of special file.  Any known file  types  appropriate  to the  system you are running on (sockets, symbolic links, or named pipes(FIFOs) on those systems that implement them) are intuited if they  are defined in the system header file &lt;sys/stat.h&gt;.The magic number tests are used to check for files with data in particular fixed formats. The canonical example of this is a binary executable (compiled program) a.out file, whose format is defined in a.out.h and possibly exec.h in the standard include directory. These files have a `magic number' stored in a particular place near the beginning of the file that tells the UNIX operating system that the file is a binary executable, and which of several types thereof. </p>
<p>The concept of `magic number' has been applied by extension to data files. Any file with some invariant identifier at a small fixed offset into the file can usually be described in this way. The information identifying these files is read from the compiled magic file <span class="code">/usr/share/file/magic.mgc</span> , or <span class="code">/usr/share/file/magic</span> if the compile file does not exist. </p>
<p>In addition file will look in $HOME/.magic.mgc ,or $HOME/.magic for magic entries. If a file does not match any of the entries in the magic file, it is examined to see if it seems to be a text file. ASCII, ISO-8859-x, non-ISO 8-bit extended-ASCII character sets (such as those used on Macintosh and IBM PC systems), UTF-8-encoded Unicode, UTF-16-encoded Unicode, and EBCDIC character sets can be distinguished by the different ranges and sequences of bytes that constitute printable text in eachset. </p>
<p>If a file passes any of these tests, its character set is reported. ASCII, ISO-8859-x, UTF-8, and extended-ASCII files are identified as <code>text' because they will be mostly readable on nearly any terminal; UTF-16 and EBCDIC are only </code>character data' because, whilethey contain text, it is text that will require translation before it can be read. In addition, file will attempt to determine other characteristics of text-type files. </p>
<p>If the lines of a file are terminated by CR, CRLF, or NEL, instead of the Unix-standard LF, this will be reported. </p>
<p>Files that contain embedded escape sequences or overstriking will also be identified.</p>
<p>Once <span class="code">file</span> has determined the character set used in a text-type file, it will attempt to determine in what language the file is written. Thelanguage tests look for particular strings (cf names.h) that can appear anywhere in the first few blocks of a file. For example, the keyword.br indicates that the file is most likely a troff(1) input file, justas the keyword struct indicates a C program. These tests are less reliable than the previous two groups, so they are performed last. The language test routines also test for some miscellany (such as tar(1)archives).</p>
<p>You can drag and drop a file from the OSX Finder into the terminal window rather than typing  out the filename.</p>
<p>Any file that cannot be identified as having been written in any of thecharacter sets listed above is simply said to be `data'.</p>
<h2>FILES</h2>
<blockquote>
<p><span class="code"> /usr/share/file/magic.mgc<br>
</span>Default compiled list of magic numbers</p>
<p> <span class="code">/usr/share/file/magic</span><br>
Default list of magic numbers</p>
<p> <span class="code">/usr/share/file/magic.mime.mgc</span><br>
Default compiled list of magic numbers, used to output mime
types when the -i option is specified.</p>
<p> <span class="code">/usr/share/file/magic.mime</span><br>
Default list of magic numbers, used to output mime types when
the -i option is specified.</p>
</blockquote>
<h2>ENVIRONMENT</h2>
<blockquote>
<p> The environment variable MAGIC can be used to set the default magic
number file name. If that variable is set, then file will not attempt
to open $HOME/.magic . file adds ".mime" and/or ".mgc" to the value of
this variable as appropriate. </p>
<p>The environment variable POSIXLY_CORRECT
controls (on systems that support symbolic links), if file will attempt
to follow symlinks or not. If set, then file follows symlink, otherwise
it does not. This is also controlled by the L and h options.</p>
<p>This manual page documents version 4.17 of the file command, this version treats any white space as a delimiter, so that spaces
in pattern strings must be escaped.</p>
</blockquote>
<p><b>Examples</b></p>
<p> Find the size of an image file:<span class="code"><br>
$ file questlove.png<br>
</span>questlove.png: PNG image data, 500 x 375, 8-bit/color RGB, non-interlaced</p>
<p>Use wildcards to retrieve properties for a list of files:<br>
<span class="code">$ file *.gif</span></p>
<p>Is a script file executable?<br>
<span class="code"> $ file myscript<br>
</span>myscript: Bourne-Again shell script text executable<span class="code"><br>
<br>
</span>Find the properties of an audio file:<span class="code"><br>
$ file track01.flac<br>
</span>track01.flac: FLAC audio bitstream data, 16 bit, stereo, 44.1 kHz, 6516216 samples</p>
<p>Find the properties of a disk:<span class="code"><br>
$ file /dev/disk0</span><br>
</p><p>/dev/disk0: block special (14/0)<br><br>
<span class="code"><br><br>
$ file -s /dev/disk{0,1}</span><br><br>
/dev/disk0: block special (14/0)<br><br>
/dev/disk1: x86 boot sector<br><br>
<br><br>
<span class="code">$ file -s /dev/hda{,1,2,3,4,5}</span><br><br>
/dev/hda: x86 boot sector<br><br>
/dev/hda1: Linux/i386 ext2 filesystem<br><br>
/dev/hda2: x86 boot sector<br><br>
/dev/hda3: x86 boot sector, extended partition table<br><br>
/dev/hda4: Linux/i386 ext2 filesystem<br><br>
/dev/hda5: Linux/i386 swap file</p><p></p>
<p> <span class="code">$ file -i file.c file /dev/{wd0a,hda}</span><br>
file.c: text/x-c<br>
file: application/x-executable, dynamically linked (uses shared libs),
not stripped<br>
/dev/hda: application/x-not-regular-file<br>
/dev/wd0a: application/x-not-regular-file</p>
<p class="quote"><i>#Dance to this fix and flex every muscle<br>
Space can be filled if you rise like my lumber<br>
Advance to the tune but don't do the hustle<br>
Shake, rattle, roll to my magic number# ~ De La Soul (The Magic Number) </i></p>
<p><b>Related:</b></p>
<p><a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/file.1.html" target="_blank" rel="external">file man page</a> - Apple.com<br>  
magic(5) - description of magic file format.<br>
qlmanage - Quick Look Server debug and management tool.<br>
strings(1), od(1), hexdump(1), compat(5) - tools for examining non-textfiles. <br>
otool(1), otool64(1) - Mach-O object display tools</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><p>
<!-- OSX300 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-6140977852749469" data-ad-slot="1823340303"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<hr>
<div id="bl" class="footer"><a href="file.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id="br" class="footer, tagline">© Copyright <a href="http://ss64.com/" target="_blank" rel="external">SS64.com</a> 1999-2016<br>
Some rights reserved</div><!-- #EndLibraryItem -->

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    Posted at <a href="/osx/file.html">
    <time datetime="2016-09-04T22:26:55.000Z" class="entry-date">
        2016-09-04
    </time>
</a> (click date for permalink).
    
    
    </footer>
</article>


    






</div></div>
          <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="Search" />
    </div>
</form></aside>
  
    
  
    
  
    
  
    
  
    
  
</div>
        
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2016 chrishansen69 (rafa1231518).
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/wizardforcel/hexo-theme-cyanstyle">Wizard Zhang (wizardforcel)</a></p>
</footer>
    <!-- tracking
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
-->

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
  
</body>
</html>