<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="A place for random garbage." />
  

  
  
  
  
  
  
  <title>
    
      Chris Hansen&#39;s Nut Shack
    </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Wait-Job 
Suppress the command prompt until one or all of the  PowerShell background jobs running in the session are
complete.
Syntax
      Wait-Job [-Id] Int32[] [-Any] [-Force] [-Timeout int] [Commo">
<meta property="og:type" content="website">
<meta property="og:title" content="Chris Hansen's Nut Shack">
<meta property="og:url" content="http://rafa1231518.github.io/ps/wait-job.html">
<meta property="og:site_name" content="Chris Hansen's Nut Shack">
<meta property="og:description" content="Wait-Job 
Suppress the command prompt until one or all of the  PowerShell background jobs running in the session are
complete.
Syntax
      Wait-Job [-Id] Int32[] [-Any] [-Force] [-Timeout int] [Commo">
<meta property="og:image" content="http://rafa1231518.github.io/../images/top.png">
<meta property="og:updated_time" content="2016-11-02T00:00:38.247Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chris Hansen's Nut Shack">
<meta name="twitter:description" content="Wait-Job 
Suppress the command prompt until one or all of the  PowerShell background jobs running in the session are
complete.
Syntax
      Wait-Job [-Id] Int32[] [-Any] [-Force] [-Timeout int] [Commo">
<meta name="twitter:image" content="http://rafa1231518.github.io/../images/top.png">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link href="https://fonts.googleapis.com/css?family=Roboto|Source+Code+Pro" rel="stylesheet">
  
    <link rel="stylesheet" href="/css/style.css">
    <style type="text/css">
.header-anchor {
  display: none;
}
    </style>
  
  

  
  <!-- baidu webmaster push -->
  <!-- tracking
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
  -->

</head>
<body class="home blog custom-background custom-font-enabled single-author">
  
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="Chris Hansen&#39;s Nut Shack" rel="home">Chris Hansen&#39;s Nut Shack</a>
      </h1>
      
        <h2 class="site-description">
          <a href="/" id="subtitle">Have a seat, right over there.</a>
        </h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pagelist">Tools &amp; Stuff</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        
          <div id="primary" class="site-content"><div id="content" role="main"><article id="page-undefined" class="page-undefined post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        <div class="comments-link">
            
            
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <!-- #BeginLibraryItem "/Library/head_ps.lbi" --><!-- #EndLibraryItem --><h1>Wait-Job</h1> 
<p>Suppress the command prompt until one or all of the  PowerShell background jobs running in the session are
complete.</p>
<pre>Syntax
      Wait-Job [-Id] <i>Int32</i>[] [-Any] [-Force] [-Timeout <i>int</i>] [<a href="common.html"><i>CommonParameters</i></a>]
<pre><code>  Wait-Job [-Filter] &lt;i&gt;Hashtable&lt;/i&gt; [-Any] [-Force] [-Timeout &lt;i&gt;Int32&lt;/i&gt;] [&lt;a href=&quot;common.html&quot;&gt;&lt;i&gt;CommonParameters&lt;/i&gt;&lt;/a&gt;]

  Wait-Job [[-InstanceId] &lt;i&gt;Guid&lt;/i&gt;[]] [-Any] [-Force] [-Timeout &lt;i&gt;int&lt;/i&gt;] [&lt;a href=&quot;common.html&quot;&gt;&lt;i&gt;CommonParameters&lt;/i&gt;&lt;/a&gt;]

  Wait-Job [-Job] &lt;i&gt;Job&lt;/i&gt;[] [-Any] [-Force] [-Timeout &lt;i&gt;int&lt;/i&gt;] [&lt;a href=&quot;common.html&quot;&gt;&lt;i&gt;CommonParameters&lt;/i&gt;&lt;/a&gt;]

  Wait-Job [[-Name] &lt;i&gt;string&lt;/i&gt;[]] [-Any] [-Force] [-Timeout &lt;i&gt;int&lt;/i&gt;] [&lt;a href=&quot;common.html&quot;&gt;&lt;i&gt;CommonParameters&lt;/i&gt;&lt;/a&gt;]

  Wait-Job [-State {NotStarted | Running | Completed | Failed | Stopped | Blocked}]
     [-Any] [-Force] [-Timeout &lt;i&gt;int&lt;/i&gt;] [&lt;a href=&quot;common.html&quot;&gt;&lt;i&gt;CommonParameters&lt;/i&gt;&lt;/a&gt;]
</code></pre>
<p>Key<br>
-Any<br>
Display the command prompt (and return the job object) when any job completes.<br>
By default, Wait-Job waits until <b>all</b> of the specified jobs are complete.</p>
<p>-Filter <i>Hashtable</i><br>
Wait for jobs that satisfy all of the conditions established in the associated hash table.<br>
Enter a hash table where the keys are job properties and the values are job property values.<br>
This parameter works only on custom job types, such as workflow jobs and scheduled jobs.<br>
It does not work on standard background jobs, such as those created by using <a href="start-job.html">Start-Job</a>.<br>
(PowerShell 3.0+)</p>
<p>-Id <i>Int32</i>[]<br>
Wait for jobs with the specified IDs.</p>
<pre><code>   The ID is an integer that uniquely identifies the job within the current session.
   It is easier to remember and to type than the instance ID, but it is unique only
   within the current session. You can type one or more IDs (separated by commas).
   To find the ID of a job, type &quot;Get-Job&quot; without parameters.
</code></pre>
<p>-InstanceId <i>Guid</i>[]<br>
Wait for jobs with the specified instance IDs.</p>
<pre><code>   An instance ID is a GUID that uniquely identifies the job on the computer.
   To find the instance ID of a job, use Get-Job.
</code></pre>
<p>-Job <i>Job</i>[]<br>
The the jobs to be deleted.<br>
Enter a variable that contains the job or a command that gets the job.<br>
You can also pipe a job object to Receive-Job.</p>
<p>-Name <i>string</i>[]<br>
Wait for jobs with the specified friendly name(s).</p>
<p>-State <i>JobState</i><br>
Wait for jobs with the specified status.<br>
Valid values are NotStarted, Running, Completed, Stopped, Failed, and Blocked.</p>
<p>-Force<br>
Continue waiting if jobs are in the Suspended or Disconnected state.<br>
By default, Wait-Job returns (terminates the wait) when jobs are in one of the<br>
following states: Completed, Failed, Stopped, Suspended, or Disconnected.<br>
(PowerShell 3.0+)</p>
<p>-Timeout <i>int</i><br>       The maximum wait time for each background job, in seconds.<br>
The default, -1, waits until the job completes, no matter how long it runs.<br>
The timing starts when you submit the Wait-Job command. <br>        <br>       If this time is exceeded, the wait will end and the command prompt returns,<br>
even if the job is still running. No error message is displayed.</p>
<p><a href="common.html">CommonParameters</a>:<br>
-Verbose, -Debug, -ErrorAction, -ErrorVariable, -WarningAction, -WarningVariable,<br>
-OutBuffer -OutVariable.</p></pre><p></p>
<p>Standard <a href="get-alias.html">Aliases</a> for Wait-Job: <span class="code">wjb</span></p>
<p>Wait-Job  waits for PowerShell background jobs to complete before it displays the command prompt.<br>
The wait can be for <i>all</i> background jobs or for  specific job(s), a maximum wait time can also be set. <br>
<br>
When the commands in the job are complete, Wait-Job will display the command prompt and return a job object that can be piped  to another command.</p>
<p><b>Examples</b></p>
<p>Wait for all  background jobs running in the session to complete:</p>
<p><span class="code">PS C:\&gt; get-job | wait-job</span></p>
<p>Use Wait-Job to determine whether a command running as a background job on three different computers is complete:</p>
<p><span class="code">PS C:\&gt; $sess = new-pssession server01, server02, server03<br>
<p>PS C:&amp;gt; invoke-command -session $sess -scriptblock {start-job -name Date1 -scriptblock {get-date}}<br><br>
<br><br>
PS C:&amp;gt; $done = invoke-command -session $sess -command {wait-job -name Date1}<br></p>
<p>PS C:&amp;gt; $done.count<br><br>
3</p></span></p><p></p>
<p>Use Wait-Job to determine when the first of many background jobs running in the 
current session are complete (local jobs running on remote machines):</p>
<p><span class="code">PS C:\&gt; $sess = new-pssession (get-content machines.txt)  <br>
<p>PS C:&amp;gt; $commands = 'get-eventlog -log system | where {$<em>.EntryType -eq “error” -and $</em>.Source -eq “LSASRV”} | out-file errors.txt’<br><br>
<br><br>
PS C:&amp;gt; invoke-command -session $sess -scriptblock {param($commands)start-job -scriptblock {$commands}} -ArgumentList $commands<br><br>
PS C:&amp;gt; invoke-command -session $sess -scriptblock {wait-job -any}</p></span><br><br>
<br><br>
Identify three jobs by their IDs and wait until any of them are complete:</p><p></p>
<p class="code">PS C:\&gt; wait-job -id 1,2,7 -any</p>
<p>Wait 120 seconds (two minutes) for the ss64 job to complete:</p>
<p class="code">PS C:\&gt; wait-job -name ss64 -timeout 120</p>
<p>Run a Get-Process command in each of  three PSSessions against remote machines, using <span class="code">-AsJob</span>, the job is created on the local computer and the results are automatically returned to the local computer, the Wait will return when all 3 jobs are complete:</p>
<p><span class="code">PS C:\&gt; $sess = new-pssession Server64, Server65, Server66<br>
<p>PS C:&amp;gt; $myjob = invoke-command -session $sess -scriptblock {get-process} -asjob<br><br>
PS C:&amp;gt; $myjob | wait-job</p></span></p><p></p>
<p class="quote"><i>“A girl can wait for the right man to come along but in the meantime that still doesn't mean she can't have a wonderful time with all the wrong ones” ~ Cher</i></p>
<p><b>Related:</b><br><br>
<a href="get-job.html">Get-Job</a> - Get PowerShell background jobs that are running<br> 
<a href="invoke-command.html">Invoke-Command</a>        -   Run command
<br>
<a href="stop-job.html">Stop-Job</a> - Stop a PowerShell background job<br>
</p><p><a href="wait-event.html">Wait-Event</a> - Wait until a particular event is raised<br><br>
<a href="wait-process.html">Wait-Process</a> - Wait for a process to stop</p>
<!-- #BeginLibraryItem "/Library/foot_ps.lbi" --><p></p><p>
<!-- PowerShell300 -->
</p><p><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-6140977852749469" data-ad-slot="6253539900"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><p></p>
<hr>
<div id="bl" class="footer"><a href="wait-job.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id="br" class="footer, tagline">© Copyright <a href="http://ss64.com/" target="_blank" rel="external">SS64.com</a> 1999-2015<br>
Some rights reserved</div><!-- #EndLibraryItem -->

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    Posted at <a href="/ps/wait-job.html">
    <time datetime="2016-09-04T22:26:55.000Z" class="entry-date">
        2016-09-04
    </time>
</a> (click date for permalink).
    
    
    </footer>
</article>


    






</div></div>
          <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="Search" />
    </div>
</form></aside>
  
    
  
    
  
    
  
    
  
    
  
</div>
        
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2016 chrishansen69 (rafa1231518).
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/wizardforcel/hexo-theme-cyanstyle">Wizard Zhang (wizardforcel)</a></p>
</footer>
    <!-- tracking
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
-->

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
  
</body>
</html>