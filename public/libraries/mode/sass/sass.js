(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("sass",function(e){function r(e){return new RegExp("^"+e.join("|"))}var t=["true","false","null","auto"];var n=new RegExp("^"+t.join("|"));var i=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"];var f=r(i);var o=/^::?[a-zA-Z_][\w\-]*/;function a(e,r){var t=e.peek();if(t===")"){e.next();r.tokenizer=m;return"operator"}else if(t==="("){e.next();e.eatSpace();return"operator"}else if(t==="'"||t==='"'){r.tokenizer=s(e.next());return"string"}else{r.tokenizer=s(")",false);return"string"}}function u(e,r){return function(t,n){if(t.sol()&&t.indentation()<=e){n.tokenizer=m;return m(t,n)}if(r&&t.skipTo("*/")){t.next();t.next();n.tokenizer=m}else{t.skipToEnd()}return"comment"}}function s(e,r){if(r==null){r=true}function t(n,i){var f=n.next();var o=n.peek();var a=n.string.charAt(n.pos-2);var u=f!=="\\"&&o===e||f===e&&a!=="\\";if(u){if(f!==e&&r){n.next()}i.tokenizer=m;return"string"}else if(f==="#"&&o==="{"){i.tokenizer=c(t);n.next();return"operator"}else{return"string"}}return t}function c(e){return function(r,t){if(r.peek()==="}"){r.next();t.tokenizer=e;return"operator"}else{return m(r,t)}}}function l(r){if(r.indentCount==0){r.indentCount++;var t=r.scopes[0].offset;var n=t+e.indentUnit;r.scopes.unshift({offset:n})}}function p(e){if(e.scopes.length==1)return;e.scopes.shift()}function m(e,r){var t=e.peek();if(e.match("/*")){r.tokenizer=u(e.indentation(),true);return r.tokenizer(e,r)}if(e.match("//")){r.tokenizer=u(e.indentation(),false);return r.tokenizer(e,r)}if(e.match("#{")){r.tokenizer=c(m);return"operator"}if(t==='"'||t==="'"){e.next();r.tokenizer=s(t);return"string"}if(!r.cursorHalf){if(t==="."){e.next();if(e.match(/^[\w-]+/)){l(r);return"atom"}else if(e.peek()==="#"){l(r);return"atom"}}if(t==="#"){e.next();if(e.match(/^[\w-]+/)){l(r);return"atom"}if(e.peek()==="#"){l(r);return"atom"}}if(t==="$"){e.next();e.eatWhile(/[\w-]/);return"variable-2"}if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(n))return"keyword";if(e.match(/^url/)&&e.peek()==="("){r.tokenizer=a;return"atom"}if(t==="="){if(e.match(/^=[\w-]+/)){l(r);return"meta"}}if(t==="+"){if(e.match(/^\+[\w-]+/)){return"variable-3"}}if(t==="@"){if(e.match(/@extend/)){if(!e.match(/\s*[\w]/))p(r)}}if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){l(r);return"meta"}if(t==="@"){e.next();e.eatWhile(/[\w-]/);return"meta"}if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,false)){return"property"}else if(e.match(/ *:/,false)){l(r);r.cursorHalf=1;return"atom"}else if(e.match(/ *,/,false)){return"atom"}else{l(r);return"atom"}}if(t===":"){if(e.match(o)){return"keyword"}e.next();r.cursorHalf=1;return"operator"}}else{if(t==="#"){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){if(!e.peek()){r.cursorHalf=0}return"number"}}if(e.match(/^-?[0-9\.]+/)){if(!e.peek()){r.cursorHalf=0}return"number"}if(e.match(/^(px|em|in)\b/)){if(!e.peek()){r.cursorHalf=0}return"unit"}if(e.match(n)){if(!e.peek()){r.cursorHalf=0}return"keyword"}if(e.match(/^url/)&&e.peek()==="("){r.tokenizer=a;if(!e.peek()){r.cursorHalf=0}return"atom"}if(t==="$"){e.next();e.eatWhile(/[\w-]/);if(!e.peek()){r.cursorHalf=0}return"variable-3"}if(t==="!"){e.next();if(!e.peek()){r.cursorHalf=0}return e.match(/^[\w]+/)?"keyword":"operator"}if(e.match(f)){if(!e.peek()){r.cursorHalf=0}return"operator"}if(e.eatWhile(/[\w-]/)){if(!e.peek()){r.cursorHalf=0}return"attribute"}if(!e.peek()){r.cursorHalf=0;return null}}if(e.match(f))return"operator";e.next();return null}function k(r,t){if(r.sol())t.indentCount=0;var n=t.tokenizer(r,t);var i=r.current();if(i==="@return"||i==="}"){p(t)}if(n!==null){var f=r.pos-i.length;var o=f+e.indentUnit*t.indentCount;var a=[];for(var u=0;u<t.scopes.length;u++){var s=t.scopes[u];if(s.offset<=o)a.push(s)}t.scopes=a}return n}return{startState:function(){return{tokenizer:m,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,r){var t=k(e,r);r.lastToken={style:t,content:e.current()};return t},indent:function(e){return e.scopes[0].offset}}});e.defineMIME("text/x-sass","sass")});