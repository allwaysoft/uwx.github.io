(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("julia",function(e,t){var r="error";function i(e,t){if(typeof t==="undefined"){t="\\b"}return new RegExp("^(("+e.join(")|(")+"))"+t)}var a="\\\\[0-7]{1,3}";var n="\\\\x[A-Fa-f0-9]{1,2}";var f="\\\\[abfnrtv0%?'\"\\\\]";var u="([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])";var o=t.operators||/^\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b(?!\()|[\u2208\u2209](?!\()/;var c=t.delimiters||/^[;,()[\]{}]/;var s=t.identifiers||/^[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/;var l=[a,n,f,u];var h=["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"];var p=["end","else","elseif","catch","finally"];var m=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype"];var d=["true","false","nothing","NaN","Inf"];var v=/^(`|"{3}|([brv]?"))/;var b=i(l,"'");var k=i(m);var g=i(d);var F=i(h);var x=i(p);var A=/^@[_A-Za-z][\w]*/;var y=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/;var E=/^::[^,;"{()=$\s]+({[^}]*}+)*/;function w(e){var t=z(e);if(t=="["){return true}return false}function z(e){if(e.scopes.length==0){return null}return e.scopes[e.scopes.length-1]}function P(e,t){if(e.match(/^#=/,false)){t.tokenize=T;return t.tokenize(e,t)}var i=t.leavingExpr;if(e.sol()){i=false}t.leavingExpr=false;if(i){if(e.match(/^'+/)){return"operator"}}if(e.match(/^\.{2,3}/)){return"operator"}if(e.eatSpace()){return null}var a=e.peek();if(a==="#"){e.skipToEnd();return"comment"}if(a==="["){t.scopes.push("[")}if(a==="("){t.scopes.push("(")}var n=z(t);if(n=="["&&a==="]"){t.scopes.pop();t.leavingExpr=true}if(n=="("&&a===")"){t.scopes.pop();t.leavingExpr=true}var f;if(!w(t)&&(f=e.match(F,false))){t.scopes.push(f)}if(!w(t)&&e.match(x,false)){t.scopes.pop()}if(w(t)){if(t.lastToken=="end"&&e.match(/^:/)){return"operator"}if(e.match(/^end/)){return"number"}}if(e.match(/^=>/)){return"operator"}if(e.match(/^[0-9\.]/,false)){var u=RegExp(/^im\b/);var l=false;if(e.match(/^\d*\.(?!\.)\d*([Eef][\+\-]?\d+)?/i)){l=true}if(e.match(/^\d+\.(?!\.)\d*/)){l=true}if(e.match(/^\.\d+/)){l=true}if(e.match(/^0x\.[0-9a-f]+p[\+\-]?\d+/i)){l=true}if(e.match(/^0x[0-9a-f]+/i)){l=true}if(e.match(/^0b[01]+/i)){l=true}if(e.match(/^0o[0-7]+/i)){l=true}if(e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){l=true}if(e.match(/^0(?![\dx])/i)){l=true}if(l){e.match(u);t.leavingExpr=true;return"number"}}if(e.match(/^<:/)){return"operator"}if(e.match(E)){return"builtin"}if(!i&&e.match(y)||e.match(/:\./)){return"builtin"}if(e.match(/^{[^}]*}(?=\()/)){return"builtin"}if(e.match(o)){return"operator"}if(e.match(/^'/)){t.tokenize=S;return t.tokenize(e,t)}if(e.match(v)){t.tokenize=j(e.current());return t.tokenize(e,t)}if(e.match(A)){return"meta"}if(e.match(c)){return null}if(e.match(k)){return"keyword"}if(e.match(g)){return"builtin"}var h=t.isDefinition||t.lastToken=="function"||t.lastToken=="macro"||t.lastToken=="type"||t.lastToken=="immutable";if(e.match(s)){if(h){if(e.peek()==="."){t.isDefinition=true;return"variable"}t.isDefinition=false;return"def"}if(e.match(/^({[^}]*})*\(/,false)){return D(e,t)}t.leavingExpr=true;return"variable"}e.next();return r}function D(e,t){var r=e.match(/^(\(\s*)/);if(r){if(t.firstParenPos<0)t.firstParenPos=t.scopes.length;t.scopes.push("(");t.charsAdvanced+=r[1].length}if(z(t)=="("&&e.match(/^\)/)){t.scopes.pop();t.charsAdvanced+=1;if(t.scopes.length<=t.firstParenPos){var i=e.match(/^\s*?=(?!=)/,false);e.backUp(t.charsAdvanced);t.firstParenPos=-1;t.charsAdvanced=0;if(i)return"def";return"builtin"}}if(e.match(/^$/g,false)){e.backUp(t.charsAdvanced);while(t.scopes.length>t.firstParenPos)t.scopes.pop();t.firstParenPos=-1;t.charsAdvanced=0;return"builtin"}t.charsAdvanced+=e.match(/^([^()]*)/)[1].length;return D(e,t)}function T(e,t){if(e.match(/^#=/)){t.weakScopes++}if(!e.match(/.*?(?=(#=|=#))/)){e.skipToEnd()}if(e.match(/^=#/)){t.weakScopes--;if(t.weakScopes==0)t.tokenize=P}return"comment"}function S(e,t){var i=false,a;if(e.match(b)){i=true}else if(a=e.match(/\\u([a-f0-9]{1,4})(?=')/i)){var n=parseInt(a[1],16);if(n<=55295||n>=57344){i=true;e.next()}}else if(a=e.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){var n=parseInt(a[1],16);if(n<=1114111){i=true;e.next()}}if(i){t.leavingExpr=true;t.tokenize=P;return"string"}if(!e.match(/^[^']+(?=')/)){e.skipToEnd()}if(e.match(/^'/)){t.tokenize=P}return r}function j(e){while("bruv".indexOf(e.charAt(0).toLowerCase())>=0){e=e.substr(1)}var t="string";function r(r,i){while(!r.eol()){r.eatWhile(/[^"\\]/);if(r.eat("\\")){r.next()}else if(r.match(e)){i.tokenize=P;i.leavingExpr=true;return t}else{r.eat(/["]/)}}return t}r.isString=true;return r}var C={startState:function(){return{tokenize:P,scopes:[],weakScopes:0,lastToken:null,leavingExpr:false,isDefinition:false,charsAdvanced:0,firstParenPos:-1}},token:function(e,t){var i=t.tokenize(e,t);var a=e.current();if(a&&i){t.lastToken=a}if(a==="."){i=e.match(s,false)||e.match(A,false)||e.match(/\(/,false)?"operator":r}return i},indent:function(t,r){var i=0;if(r=="]"||r==")"||r=="end"||r=="else"||r=="elseif"||r=="catch"||r=="finally"){i=-1}return(t.scopes.length+i)*e.indentUnit},electricInput:/(end|else(if)?|catch|finally)$/,lineComment:"#",fold:"indent"};return C});e.defineMIME("text/x-julia","julia")});