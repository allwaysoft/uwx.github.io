(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("yacas",function(r,t){function n(e){var r={},t=e.split(" ");for(var n=0;n<t.length;++n)r[t[n]]=true;return r}var i=n("Assert BackQuote D Defun Deriv For ForEach FromFile "+"FromString Function Integrate InverseTaylor Limit "+"LocalSymbols Macro MacroRule MacroRulePattern "+"NIntegrate Rule RulePattern Subst TD TExplicitSum "+"TSum Taylor Taylor1 Taylor2 Taylor3 ToFile "+"ToStdout ToString TraceRule Until While");var o="(?:(?:\\.\\d+|\\d+\\.\\d*|\\d+)(?:[eE][+-]?\\d+)?)";var a="(?:[a-zA-Z\\$'][a-zA-Z0-9\\$']*)";var u=new RegExp(o);var l=new RegExp(a);var f=new RegExp(a+"?_"+a);var c=new RegExp(a+"\\s*\\(");function s(e,r){var t;t=e.next();if(t==='"'){r.tokenize=p;return r.tokenize(e,r)}if(t==="/"){if(e.eat("*")){r.tokenize=m;return r.tokenize(e,r)}if(e.eat("/")){e.skipToEnd();return"comment"}}e.backUp(1);var n=e.match(/^(\w+)\s*\(/,false);if(n!==null&&i.hasOwnProperty(n[1]))r.scopes.push("bodied");var o=d(r);if(o==="bodied"&&t==="[")r.scopes.pop();if(t==="["||t==="{"||t==="(")r.scopes.push(t);o=d(r);if(o==="["&&t==="]"||o==="{"&&t==="}"||o==="("&&t===")")r.scopes.pop();if(t===";"){while(o==="bodied"){r.scopes.pop();o=d(r)}}if(e.match(/\d+ *#/,true,false)){return"qualifier"}if(e.match(u,true,false)){return"number"}if(e.match(f,true,false)){return"variable-3"}if(e.match(/(?:\[|\]|{|}|\(|\))/,true,false)){return"bracket"}if(e.match(c,true,false)){e.backUp(1);return"variable"}if(e.match(l,true,false)){return"variable-2"}if(e.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,true,false)){return"operator"}return"error"}function p(e,r){var t,n=false,i=false;while((t=e.next())!=null){if(t==='"'&&!i){n=true;break}i=!i&&t==="\\"}if(n&&!i){r.tokenize=s}return"string"}function m(e,r){var t,n;while((n=e.next())!=null){if(t==="*"&&n==="/"){r.tokenize=s;break}t=n}return"comment"}function d(e){var r=null;if(e.scopes.length>0)r=e.scopes[e.scopes.length-1];return r}return{startState:function(){return{tokenize:s,scopes:[]}},token:function(e,r){if(e.eatSpace())return null;return r.tokenize(e,r)},indent:function(t,n){if(t.tokenize!==s&&t.tokenize!==null)return e.Pass;var i=0;if(n==="]"||n==="];"||n==="}"||n==="};"||n===");")i=-1;return(t.scopes.length+i)*r.indentUnit},electricChars:"{}[]();",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});e.defineMIME("text/x-yacas",{name:"yacas"})});