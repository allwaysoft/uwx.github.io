(function(t){if(typeof exports=="object"&&typeof module=="object")t(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],t);else t(CodeMirror)})(function(t){"use strict";var e={mscgen:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},xu:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs","watermark"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},msgenny:{keywords:null,options:["hscale","width","arcgradient","wordwraparcs","watermark"],attributes:null,brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]}};t.defineMode("mscgen",function(t,r){var n=e[r&&r.language||"mscgen"];return{startState:o,copyState:i,token:c(n),lineComment:"#",blockCommentStart:"/*",blockCommentEnd:"*/"}});t.defineMIME("text/x-mscgen","mscgen");t.defineMIME("text/x-xu",{name:"mscgen",language:"xu"});t.defineMIME("text/x-msgenny",{name:"mscgen",language:"msgenny"});function r(t){return new RegExp("\\b("+t.join("|")+")\\b","i")}function n(t){return new RegExp("("+t.join("|")+")","i")}function o(){return{inComment:false,inString:false,inAttributeList:false,inScript:false}}function i(t){return{inComment:t.inComment,inString:t.inString,inAttributeList:t.inAttributeList,inScript:t.inScript}}function c(t){return function(e,o){if(e.match(n(t.brackets),true,true)){return"bracket"}if(!o.inComment){if(e.match(/\/\*[^\*\/]*/,true,true)){o.inComment=true;return"comment"}if(e.match(n(t.singlecomment),true,true)){e.skipToEnd();return"comment"}}if(o.inComment){if(e.match(/[^\*\/]*\*\//,true,true))o.inComment=false;else e.skipToEnd();return"comment"}if(!o.inString&&e.match(/\"(\\\"|[^\"])*/,true,true)){o.inString=true;return"string"}if(o.inString){if(e.match(/[^\"]*\"/,true,true))o.inString=false;else e.skipToEnd();return"string"}if(!!t.keywords&&e.match(r(t.keywords),true,true))return"keyword";if(e.match(r(t.options),true,true))return"keyword";if(e.match(r(t.arcsWords),true,true))return"keyword";if(e.match(n(t.arcsOthers),true,true))return"keyword";if(!!t.operators&&e.match(n(t.operators),true,true))return"operator";if(!t.inAttributeList&&!!t.attributes&&e.match(/\[/,true,true)){t.inAttributeList=true;return"bracket"}if(t.inAttributeList){if(t.attributes!==null&&e.match(r(t.attributes),true,true)){return"attribute"}if(e.match(/]/,true,true)){t.inAttributeList=false;return"bracket"}}e.next();return"base"}}});