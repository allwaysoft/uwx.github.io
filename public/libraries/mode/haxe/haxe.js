(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("haxe",function(e,r){var t=e.indentUnit;function n(e){return{type:e,style:"keyword"}}var i=n("keyword a"),a=n("keyword b"),u=n("keyword c");var f=n("operator"),l={type:"atom",style:"atom"},o={type:"attribute",style:"attribute"};var c=n("typedef");var s={"if":i,"while":i,"else":a,"do":a,"try":a,"return":u,"break":u,"continue":u,"new":u,"throw":u,"var":n("var"),inline:o,"static":o,using:n("import"),"public":o,"private":o,cast:n("cast"),"import":n("import"),macro:n("macro"),"function":n("function"),"catch":n("catch"),untyped:n("untyped"),callback:n("cb"),"for":n("for"),"switch":n("switch"),"case":n("case"),"default":n("default"),"in":f,never:n("property_access"),trace:n("trace"),"class":c,"abstract":c,"enum":c,"interface":c,typedef:c,"extends":c,"implements":c,dynamic:c,"true":l,"false":l,"null":l};var d=/[+\-*&%=<>!?|]/;function p(e,r,t){r.tokenize=t;return t(e,r)}function m(e,r){var t=false,n;while((n=e.next())!=null){if(n==r&&!t)return true;t=!t&&n=="\\"}}var c,v;function b(e,r,t){c=e;v=t;return r}function y(e,r){var t=e.next();if(t=='"'||t=="'"){return p(e,r,h(t))}else if(/[\[\]{}\(\),;\:\.]/.test(t)){return b(t)}else if(t=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return b("number","number")}else if(/\d/.test(t)||t=="-"&&e.eat(/\d/)){e.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/);return b("number","number")}else if(r.reAllowed&&(t=="~"&&e.eat(/\//))){m(e,"/");e.eatWhile(/[gimsu]/);return b("regexp","string-2")}else if(t=="/"){if(e.eat("*")){return p(e,r,x)}else if(e.eat("/")){e.skipToEnd();return b("comment","comment")}else{e.eatWhile(d);return b("operator",null,e.current())}}else if(t=="#"){e.skipToEnd();return b("conditional","meta")}else if(t=="@"){e.eat(/:/);e.eatWhile(/[\w_]/);return b("metadata","meta")}else if(d.test(t)){e.eatWhile(d);return b("operator",null,e.current())}else{var n;if(/[A-Z]/.test(t)){e.eatWhile(/[\w_<>]/);n=e.current();return b("type","variable-3",n)}else{e.eatWhile(/[\w_]/);var n=e.current(),i=s.propertyIsEnumerable(n)&&s[n];return i&&r.kwAllowed?b(i.type,i.style,n):b("variable","variable",n)}}}function h(e){return function(r,t){if(m(r,e))t.tokenize=y;return b("string","string")}}function x(e,r){var t=false,n;while(n=e.next()){if(n=="/"&&t){r.tokenize=y;break}t=n=="*"}return b("comment","comment")}var k={atom:true,number:true,variable:true,string:true,regexp:true};function w(e,r,t,n,i,a){this.indented=e;this.column=r;this.type=t;this.prev=i;this.info=a;if(n!=null)this.align=n}function g(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return true}function V(e,r,t,n,i){var a=e.cc;E.state=e;E.stream=i;E.marked=null,E.cc=a;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var u=a.length?a.pop():j;if(u(t,n)){while(a.length&&a[a.length-1].lex)a.pop()();if(E.marked)return E.marked;if(t=="variable"&&g(e,n))return"variable-2";if(t=="variable"&&A(e,n))return"variable-3";return r}}}function A(e,r){if(/[a-z]/.test(r.charAt(0)))return false;var t=e.importedtypes.length;for(var n=0;n<t;n++)if(e.importedtypes[n]==r)return true}function S(e){var r=E.state;for(var t=r.importedtypes;t;t=t.next)if(t.name==e)return;r.importedtypes={name:e,next:r.importedtypes}}var E={state:null,column:null,marked:null,cc:null};function W(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function z(){W.apply(null,arguments);return true}function M(e,r){for(var t=r;t;t=t.next)if(t.name==e)return true;return false}function C(e){var r=E.state;if(r.context){E.marked="def";if(M(e,r.localVars))return;r.localVars={name:e,next:r.localVars}}else if(r.globalVars){if(M(e,r.globalVars))return;r.globalVars={name:e,next:r.globalVars}}}var T={name:"this",next:null};function Z(){if(!E.state.context)E.state.localVars=T;E.state.context={prev:E.state.context,vars:E.state.localVars}}function I(){E.state.localVars=E.state.context.vars;E.state.context=E.state.context.prev}I.lex=true;function O(e,r){var t=function(){var t=E.state;t.lexical=new w(t.indented,E.stream.column(),e,null,t.lexical,r)};t.lex=true;return t}function P(){var e=E.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}P.lex=true;function _(e){function r(t){if(t==e)return z();else if(e==";")return W();else return z(r)}return r}function j(e){if(e=="@")return z(U);if(e=="var")return z(O("vardef"),R,_(";"),P);if(e=="keyword a")return z(O("form"),D,j,P);if(e=="keyword b")return z(O("form"),j,P);if(e=="{")return z(O("}"),Z,Q,P,I);if(e==";")return z();if(e=="attribute")return z(F);if(e=="function")return z(re);if(e=="for")return z(O("form"),_("("),O(")"),Y,_(")"),P,j,P);if(e=="variable")return z(O("stat"),J);if(e=="switch")return z(O("form"),D,O("}","switch"),_("{"),Q,P,P);if(e=="case")return z(D,_(":"));if(e=="default")return z(_(":"));if(e=="catch")return z(O("form"),Z,_("("),ae,_(")"),j,P,I);if(e=="import")return z(G,_(";"));if(e=="typedef")return z(H);return W(O("stat"),D,_(";"),P)}function D(e){if(k.hasOwnProperty(e))return z(B);if(e=="type")return z(B);if(e=="function")return z(re);if(e=="keyword c")return z(q);if(e=="(")return z(O(")"),q,_(")"),P,B);if(e=="operator")return z(D);if(e=="[")return z(O("]"),N(q,"]"),P,B);if(e=="{")return z(O("}"),N(L,"}"),P,B);return z()}function q(e){if(e.match(/[;\}\)\],]/))return W();return W(D)}function B(e,r){if(e=="operator"&&/\+\+|--/.test(r))return z(B);if(e=="operator"||e==":")return z(D);if(e==";")return;if(e=="(")return z(O(")"),N(D,")"),P,B);if(e==".")return z(K,B);if(e=="[")return z(O("]"),D,_("]"),P,B)}function F(e){if(e=="attribute")return z(F);if(e=="function")return z(re);if(e=="var")return z(R)}function U(e){if(e==":")return z(U);if(e=="variable")return z(U);if(e=="(")return z(O(")"),N($,")"),P,j)}function $(e){if(e=="variable")return z()}function G(e,r){if(e=="variable"&&/[A-Z]/.test(r.charAt(0))){S(r);return z()}else if(e=="variable"||e=="property"||e=="."||r=="*")return z(G)}function H(e,r){if(e=="variable"&&/[A-Z]/.test(r.charAt(0))){S(r);return z()}else if(e=="type"&&/[A-Z]/.test(r.charAt(0))){return z()}}function J(e){if(e==":")return z(P,j);return W(B,_(";"),P)}function K(e){if(e=="variable"){E.marked="property";return z()}}function L(e){if(e=="variable")E.marked="property";if(k.hasOwnProperty(e))return z(_(":"),D)}function N(e,r){function t(n){if(n==",")return z(e,t);if(n==r)return z();return z(_(r))}return function(n){if(n==r)return z();else return W(e,t)}}function Q(e){if(e=="}")return z();return W(j,Q)}function R(e,r){if(e=="variable"){C(r);return z(te,X)}return z()}function X(e,r){if(r=="=")return z(D,X);if(e==",")return z(R)}function Y(e,r){if(e=="variable"){C(r);return z(ee,D)}else{return W()}}function ee(e,r){if(r=="in")return z()}function re(e,r){if(e=="variable"||e=="type"){C(r);return z(re)}if(r=="new")return z(re);if(e=="(")return z(O(")"),Z,N(ae,")"),P,te,j,I)}function te(e){if(e==":")return z(ne)}function ne(e){if(e=="type")return z();if(e=="variable")return z();if(e=="{")return z(O("}"),N(ie,"}"),P)}function ie(e){if(e=="variable")return z(te)}function ae(e,r){if(e=="variable"){C(r);return z(te)}}return{startState:function(e){var n=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];var i={tokenize:y,reAllowed:true,kwAllowed:true,cc:[],lexical:new w((e||0)-t,0,"block",false),localVars:r.localVars,importedtypes:n,context:r.localVars&&{vars:r.localVars},indented:0};if(r.globalVars&&typeof r.globalVars=="object")i.globalVars=r.globalVars;return i},token:function(e,r){if(e.sol()){if(!r.lexical.hasOwnProperty("align"))r.lexical.align=false;r.indented=e.indentation()}if(e.eatSpace())return null;var t=r.tokenize(e,r);if(c=="comment")return t;r.reAllowed=!!(c=="operator"||c=="keyword c"||c.match(/^[\[{}\(,;:]$/));r.kwAllowed=c!=".";return V(r,t,c,v,e)},indent:function(e,r){if(e.tokenize!=y)return 0;var n=r&&r.charAt(0),i=e.lexical;if(i.type=="stat"&&n=="}")i=i.prev;var a=i.type,u=n==a;if(a=="vardef")return i.indented+4;else if(a=="form"&&n=="{")return i.indented;else if(a=="stat"||a=="form")return i.indented+t;else if(i.info=="switch"&&!u)return i.indented+(/^(?:case|default)\b/.test(r)?t:2*t);else if(i.align)return i.column+(u?0:1);else return i.indented+(u?0:t)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});e.defineMIME("text/x-haxe","haxe");e.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(e,r){var t=e.peek();var n=e.sol();if(t=="#"){e.skipToEnd();return"comment"}if(n&&t=="-"){var i="variable-2";e.eat(/-/);if(e.peek()=="-"){e.eat(/-/);i="keyword a"}if(e.peek()=="D"){e.eat(/[D]/);i="keyword c";r.define=true}e.eatWhile(/[A-Z]/i);return i}var t=e.peek();if(r.inString==false&&t=="'"){r.inString=true;t=e.next()}if(r.inString==true){if(e.skipTo("'")){}else{e.skipToEnd()}if(e.peek()=="'"){e.next();r.inString=false}return"string"}e.next();return null},lineComment:"#"}});e.defineMIME("text/x-hxml","hxml")});